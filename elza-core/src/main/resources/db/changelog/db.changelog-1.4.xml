<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.4.xsd">

        <!--
            Verze 4
            - přejmenování level, change, finding aid versin
        -->
        <changeSet id="5" author="kuzel">

            <!--Tabulky-->
            <renameTable oldTableName="arr_fa_level" newTableName="arr_level" />
            <renameTable oldTableName="arr_fa_change" newTableName="arr_change" />
            <renameTable oldTableName="arr_fa_version" newTableName="arr_finding_aid_version" />


            <!--Fieldy-->
            <renameColumn tableName="arr_change" oldColumnName="fa_change_id" newColumnName="change_id" />

            <renameColumn tableName="arr_level" oldColumnName="fa_level_id" newColumnName="level_id" />
            <renameColumn tableName="arr_level" oldColumnName="create_fa_change_id" newColumnName="create_change_id" />
            <renameColumn tableName="arr_level" oldColumnName="delete_fa_change_id" newColumnName="delete_change_id" />
            <renameColumn tableName="arr_level" oldColumnName="parent_node_id" newColumnName="node_id_parent" />

            <renameColumn tableName="arr_finding_aid_version" oldColumnName="root_fa_level_id" newColumnName="root_level_id" />
            <renameColumn tableName="arr_finding_aid_version" oldColumnName="lock_fa_change_id" newColumnName="lock_change_id" />
            <renameColumn tableName="arr_finding_aid_version" oldColumnName="create_fa_change_id" newColumnName="create_change_id" />
            <renameColumn tableName="arr_finding_aid_version" oldColumnName="fa_version_id" newColumnName="finding_aid_version_id" />

            <renameColumn tableName="arr_desc_item" oldColumnName="create_fa_change_id" newColumnName="create_change_id" />
            <renameColumn tableName="arr_desc_item" oldColumnName="delete_fa_change_id" newColumnName="delete_change_id" />

            <renameColumn tableName="rul_desc_item_constraint" oldColumnName="fa_version_id" newColumnName="finding_aid_version_id" />

        </changeSet>
</databaseChangeLog>
