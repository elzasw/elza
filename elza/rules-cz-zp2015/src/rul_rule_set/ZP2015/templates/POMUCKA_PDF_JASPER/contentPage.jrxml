<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.20.0.final using JasperReports Library version 6.20.0-2bc7ab61c56f459e8176eb05c7705e145cd400ad  -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="contentPage" language="groovy" pageWidth="595" pageHeight="842" columnWidth="455" leftMargin="70" rightMargin="70" topMargin="28" bottomMargin="28" uuid="71cc9236-0f65-4a0a-bb66-bbfe841a66c1">
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="One Empty Record"/>
	<property name="net.sf.jasperreports.print.create.bookmarks" value="true"/>
	<property name="com.jaspersoft.studio.unit." value="pixel"/>
	<import value="org.apache.commons.lang.StringUtils"/>
	<style name="Serie1">
		<conditionalStyle>
			<conditionExpression><![CDATA[$F{depth}==2]]></conditionExpression>
			<style fontSize="14" isBold="true" isUnderline="true"/>
		</conditionalStyle>
		<conditionalStyle>
			<conditionExpression><![CDATA[($F{depth}==3)&&($F{node}.getItemsWithSpec( "ZP2015_LEVEL_TYPE", "ZP2015_LEVEL_SERIES" ).size()==1)]]></conditionExpression>
			<style fontSize="12" isBold="true" isUnderline="false"/>
		</conditionalStyle>
		<conditionalStyle>
			<conditionExpression><![CDATA[($F{depth}==4)&&($F{node}.getItemsWithSpec( "ZP2015_LEVEL_TYPE", "ZP2015_LEVEL_SERIES" ).size()==1)]]></conditionExpression>
			<style fontSize="10" isBold="true" isUnderline="false"/>
		</conditionalStyle>
	</style>
	<style name="Item" mode="Transparent" forecolor="#333333" vTextAlign="Top" fontName="DejaVu Sans" fontSize="9" pdfEncoding="CP1250 (Central European)">
		<box topPadding="1" leftPadding="0"/>
		<paragraph lineSpacing="Single"/>
	</style>
	<style name="ListItem" style="Item" fontSize="10"/>
	<style name="Title" style="Item" forecolor="#000000" vTextAlign="Middle" fontSize="10">
		<box topPadding="1" bottomPadding="0">
			<pen lineColor="#EEEEEE"/>
		</box>
		<paragraph lineSpacingSize="1.0" spacingBefore="0"/>
		<conditionalStyle>
			<conditionExpression><![CDATA[$V{isSection} || $V{isRoot}]]></conditionExpression>
			<style fontSize="11" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false"/>
		</conditionalStyle>
		<conditionalStyle>
			<conditionExpression><![CDATA[$V{isSeries}]]></conditionExpression>
			<style fontSize="11" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false"/>
		</conditionalStyle>
	</style>
	<style name="OuterFrame" mode="Transparent" backcolor="#EEEEEE">
		<box>
			<leftPen lineWidth="0.0" lineColor="#CCCCCC"/>
		</box>
		<conditionalStyle>
			<conditionExpression><![CDATA[$P{templateVariant} == "A"]]></conditionExpression>
			<style>
				<box leftPadding="10">
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#CCCCCC"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
			</style>
		</conditionalStyle>
	</style>
	<style name="HeaderText" forecolor="#999999" fontName="DejaVu Sans" fontSize="8"/>
	<style name="ItemIds">
		<box topPadding="2" leftPadding="20" bottomPadding="2" rightPadding="4">
			<pen lineColor="#EEEEEE"/>
			<leftPen lineColor="#EEEEEE"/>
		</box>
		<conditionalStyle>
			<conditionExpression><![CDATA[false && $V{isSection} || false && $V{isRoot}]]></conditionExpression>
			<style fontSize="14" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false">
				<box>
					<pen lineWidth="0.0"/>
					<leftPen lineWidth="2.0" lineColor="#0033FF"/>
				</box>
			</style>
		</conditionalStyle>
		<conditionalStyle>
			<conditionExpression><![CDATA[false && $V{isFolder}]]></conditionExpression>
			<style mode="Transparent" fontSize="14" isItalic="true">
				<box>
					<leftPen lineWidth="2.0" lineColor="#FFCC00"/>
					<bottomPen lineColor="#FFCC00"/>
				</box>
			</style>
		</conditionalStyle>
		<conditionalStyle>
			<conditionExpression><![CDATA[false && $V{isSeries}]]></conditionExpression>
			<style fontSize="14" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false">
				<box>
					<leftPen lineWidth="2.0" lineColor="#0099FF"/>
					<bottomPen lineWidth="0.0" lineColor="#0099FF"/>
				</box>
			</style>
		</conditionalStyle>
		<conditionalStyle>
			<conditionExpression><![CDATA[$P{templateVariant} == "B"]]></conditionExpression>
			<style mode="Opaque" backcolor="#F1F1F1"/>
		</conditionalStyle>
		<conditionalStyle>
			<conditionExpression><![CDATA[$P{templateVariant} == "C"]]></conditionExpression>
			<style>
				<box>
					<topPen lineWidth="1.0" lineColor="#DDDDDD"/>
					<bottomPen lineWidth="1.0" lineColor="#F1F1F1"/>
				</box>
			</style>
		</conditionalStyle>
		<conditionalStyle>
			<conditionExpression><![CDATA[$P{templateVariant} == "A"]]></conditionExpression>
			<style>
				<box padding="0"/>
			</style>
		</conditionalStyle>
	</style>
	<subDataset name="Packets" uuid="ee50314f-e295-4cb5-bf43-2621ef7f1818">
		<parameter name="node" class="cz.tacr.elza.print.Node"/>
		<queryString>
			<![CDATA[]]>
		</queryString>
		<field name="packet" class="cz.tacr.elza.print.Structured">
			<fieldDescription><![CDATA[packet]]></fieldDescription>
		</field>
	</subDataset>
	<subDataset name="Items" uuid="981513c8-027f-4b8b-a906-cdd467ac9b78">
		<parameter name="node" class="cz.tacr.elza.print.Node"/>
		<queryString>
			<![CDATA[]]>
		</queryString>
		<field name="item" class="cz.tacr.elza.print.item.AbstractItem">
			<fieldDescription><![CDATA[item]]></fieldDescription>
		</field>
	</subDataset>
	<subDataset name="ItemLinks" uuid="6629060c-ddff-4424-8031-53fd364bd224">
		<parameter name="node" class="cz.tacr.elza.print.Node"/>
		<queryString>
			<![CDATA[]]>
		</queryString>
		<field name="description" class="java.lang.String"/>
		<field name="node" class="cz.tacr.elza.print.Node"/>
		<field name="item" class="cz.tacr.elza.print.item.ItemUriRef">
			<fieldDescription><![CDATA[_THIS]]></fieldDescription>
		</field>
	</subDataset>
	<subDataset name="ItemCoords" uuid="99f11d1e-0c0e-4dd3-a896-388b6014c8ed">
		<parameter name="node" class="cz.tacr.elza.print.Node"/>
		<parameter name="output" class="cz.tacr.elza.print.Output"/>
		<queryString>
			<![CDATA[]]>
		</queryString>
		<field name="item" class="cz.tacr.elza.print.item.ItemCoordinates">
			<fieldDescription><![CDATA[_THIS]]></fieldDescription>
		</field>
	</subDataset>
	<parameter name="fund" class="cz.tacr.elza.print.Fund">
		<parameterDescription><![CDATA[]]></parameterDescription>
	</parameter>
	<parameter name="output" class="cz.tacr.elza.print.Output"/>
	<parameter name="otherIdFormatter" class="cz.tacr.elza.print.format.HtmlFormatter" isForPrompting="false">
		<parameterDescription><![CDATA[]]></parameterDescription>
		<defaultValueExpression><![CDATA[new cz.tacr.elza.print.format.HtmlFormatter()
	.setTitleSeparator(": ")
	.setSpecSeparator(": ")
	.setItemSeparator("\n")
	.setBlockSeparators("","")
	.setSpecTitleSource(cz.tacr.elza.print.format.SpecTitleSource.NAME)
	.beginBlock().addValue("ZP2015_OTHER_ID").endBlock()]]></defaultValueExpression>
	</parameter>
	<parameter name="shortDetailFormatter" class="cz.tacr.elza.print.format.Formatter" isForPrompting="false">
		<parameterDescription><![CDATA[]]></parameterDescription>
		<defaultValueExpression><![CDATA[new cz.tacr.elza.print.format.Formatter()
	.setTitleSeparator(": ")
	.setItemSeparator(", ")
	.setBlockSeparators("","; ")
	.beginBlock().addValue("ZP2015_LANGUAGE").endBlock()
	.beginBlock().addValue("ZP2015_STORAGE_COND").endBlock()
	.beginBlock().addValue("ZP2015_SCALE").endBlock()
	.beginBlock().addValue("ZP2015_SIZE").endBlock()
	.beginBlock().addValue("ZP2015_WRITING").endBlock()
	.beginBlock().addValue("ZP2015_ITEM_MAT").endBlock()
	.beginBlock().addValue("ZP2015_ITEM_MAT_TECHNIKA").endBlock()
	.beginBlock().addValue("ZP2015_ITEM_MAT_ADJUSTACE").endBlock()
	.beginBlock().addValue("ZP2015_ITEM_MAT_NOSIC").endBlock()
	.beginBlock().addValue("ZP2015_ITEM_MAT_LATKA_ZAZNAMU").endBlock()]]></defaultValueExpression>
	</parameter>
	<parameter name="detailFormatter" class="cz.tacr.elza.print.format.HtmlFormatter" isForPrompting="false">
		<parameterDescription><![CDATA[]]></parameterDescription>
		<defaultValueExpression><![CDATA[new cz.tacr.elza.print.format.HtmlFormatter()
	.setTitleSeparator(": ")
	.setItemSeparator("\n")
	.setSpecSeparator(": ")
	.setBlockSeparators("", "\n")
	.beginBlock()
		.setItemSeparator(", ")
		.addValueWithTitle("ZP2015_ORIGINATOR")
	.endBlock()
	.setItemSeparator("\n")
	.setTitleSeparator(" - ")
    .setSpecName("ZP2015_DATE_OF_CONTENT", "datace obsahu")
	.setSpecName("ZP2015_DATE_DECLARED", "datace deklarovaná")
	.setSpecName("ZP2015_DATE_ORIG", "datace vzniku předlohy")
	.setSpecName("ZP2015_DATE_OF_COPY", "datace vzniku kopie")
	.setSpecName("ZP2015_DATE_SEALING", "datace zpečetění")
	.setSpecName("ZP2015_DATE_ACT_PUBLISHING", "datace vydání listiny")
	.setSpecName("ZP2015_DATE_INSERT", "datace insertu/transeptu")
	.setSpecName("ZP2015_DATE_MOLD_CREATION", "datace vzniku matrice")
	.setSpecName("ZP2015_DATE_USAGE", "datace užívání typáře")
	.setSpecName("ZP2015_DATE_PUBLISHING", "datace vydání dokumentu")
	.setSpecName("ZP2015_DATE_MAP_UPDATE", "datace reambulace mapy")
	.setSpecName("ZP2015_DATE_CAPTURING", "datace pořízení obrazového záznamu")
	.setSpecName("ZP2015_DATE_RECORDING", "datace pořízení filmového / zvukového záznamu")
	.setSpecName("ZP2015_DATE_AWARDING", "datace udělení / propůjčení faleristického předmětu")
	.setSpecName("ZP2015_DATE_AWARD_CER", "datace předání faleristického předmětu")
	.setSpecName("ZP2015_DATE_WITHDRAWAL", "datace odnětí / vrácení faleristického předmětu")
	.setSpecName("ZP2015_DATE_LEGALLY_EFFECTIVE_FROM", "datace nabytí právní účinnosti")
	.setSpecName("ZP2015_DATE_VALID_FROM", "datace nabytí právní platnosti")
	.setSpecName("ZP2015_DATE_LEGALLY_EFFECTIVE_TO", "datace pozbytí právní účinnosti")
	.setSpecName("ZP2015_DATE_VALID_TO", "datace pozbytí právní platnosti")
	.addValue("ZP2015_DATE_OTHER")
	.setTitleSeparator(": ")
	.addValueWithTitle("ZP2015_ITEM_TITLE_REF")
	.addValueWithTitle("ZP2015_PART")
	.setGroupFormat("; ")
	.addValue("ZP2015_ENTITY_ROLE")
	.addValueWithTitle("ZP2015_UNIT_HIST")
	.addValueWithTitle("ZP2015_UNIT_SOURCE")
	.addValueWithTitle("ZP2015_UNIT_ARR")
	.addValueWithTitle("ZP2015_FUTURE_UNITS")
	.addValueWithTitle("ZP2015_UNIT_CONTENT")
	.addValueWithTitle("ZP2015_UNIT_ACCESS")
	.addValueWithTitle("ZP2015_UNIT_INFO_RIGHTS")
	.addValueWithTitle("ZP2015_UNIT_COPY_RIGHTS")
    .setItemSeparator(", ")
    .beginBlock()
        .when(cz.tacr.elza.print.format.ExpressionBuilder.hasValue("ZP2015_SIZE_WIDTH"))
          .setItemSeparator(" ")
    	  .addValueWithTitle("ZP2015_SIZE_WIDTH")
   	      .setItemSeparator(", ")
   	      .addValue("ZP2015_SIZE_UNITS")
    	.end()
        .when(cz.tacr.elza.print.format.ExpressionBuilder.hasValue("ZP2015_SIZE_HEIGHT"))
          .setItemSeparator(" ")
    	  .addValueWithTitle("ZP2015_SIZE_HEIGHT")
          .setItemSeparator(", ")
      	  .addValue("ZP2015_SIZE_UNITS")
    	.end()
        .when(cz.tacr.elza.print.format.ExpressionBuilder.hasValue("ZP2015_SIZE_DEPTH"))
          .setItemSeparator(" ")
    	  .addValueWithTitle("ZP2015_SIZE_DEPTH")
          .setItemSeparator(", ")
      	  .addValue("ZP2015_SIZE_UNITS")
    	.end()
	.endBlock()
    .setItemSeparator(", ")
	.setSpecFormat(" ", "", true)		
    .beginBlock()
    	.addValueWithTitle("ZP2015_WEIGHT")
	.endBlock()
	.setSpecTitleSource(cz.tacr.elza.print.format.SpecTitleSource.NAME)
	.setSpecFormat(" (", ")", true)		
    .beginBlock()
    	.addValueWithTitle("ZP2015_AMOUNT" )
	.endBlock()
	.setSpecFormat("", ": ", false)
	.setItemSeparator("\n")
	.addValueWithTitle("ZP2015_IMPRINT_COUNT")
	.addValueWithTitle("ZP2015_EXERQUE")
	.addValueWithTitle("ZP2015_PAINTING_CHAR")
	.addValueWithTitle("ZP2015_CORROBORATION")
	.addValueWithTitle("ZP2015_IMPRINT_ORDER")
	.addValueWithTitle("ZP2015_ORIENTATION")
	.addValueWithTitle("ZP2015_LEGEND")
	.addValueWithTitle("ZP2015_MOVIE_LENGTH")
	.addValueWithTitle("ZP2015_RECORD_LENGTH")
	.addValueWithTitle("ZP2015_UNIT_CURRENT_STATUS")
    .setItemSeparator(", ")
    .beginBlock()
	  .addValueWithTitle("ZP2015_UNIT_DAMAGE_TYPE")
	.endBlock()
    .setItemSeparator("\n")
	.addValueWithTitle("ZP2015_RELATED_UNITS")
	.addValueWithTitle("ZP2015_EXISTING_COPY")
	.addValueWithTitle("ZP2015_COPY_SOURCE")
	.addValueWithTitle("ZP2015_ARRANGE_RULES")
	.addValueWithTitle("ZP2015_EDITION")
	.addValueWithTitle("ZP2015_NOTE")
	.addValueWithTitle("ZP2015_ARRANGER")
	.addValueWithTitle("ZP2015_DESCRIPTION_DATE")]]></defaultValueExpression>
	</parameter>
	<parameter name="storageFormatter" class="cz.tacr.elza.print.format.Formatter" isForPrompting="false">
		<parameterDescription><![CDATA[]]></parameterDescription>
		<defaultValueExpression><![CDATA[new cz.tacr.elza.print.format.Formatter()
    .setBlockSeparators("/","")
    .setItemSeparator(", ")
  	.addValue("ZP2015_STORAGE_ID")
	.beginBlock().addValue("ZP2015_ITEM_ORDER").endBlock()]]></defaultValueExpression>
	</parameter>
	<parameter name="rootDetailFotmatter" class="cz.tacr.elza.print.format.HtmlFormatter" isForPrompting="false">
		<parameterDescription><![CDATA[]]></parameterDescription>
		<defaultValueExpression><![CDATA[new cz.tacr.elza.print.format.HtmlFormatter()
	.setTitleSeparator(": ")
	.setSpecSeparator(": ")
	.setBlockSeparators("", "\n")
	.setItemSeparator("\n")
	.addValueWithTitle("ZP2015_UNIT_COUNT")
	.setItemSeparator(", ")
	.setSpecFormat(" (", ")",true)
	.addValueWithTitle("ZP2015_EXTRA_UNITS")
	.setSpecFormat("", ": ", false)
	.setItemSeparator("\n")
	.setTitleSeparator(" - ")
    .setSpecName("ZP2015_DATE_OF_CONTENT", "datace obsahu")
	.setSpecName("ZP2015_DATE_DECLARED", "datace deklarovaná")
	.setSpecName("ZP2015_DATE_ORIG", "datace vzniku předlohy")
	.setSpecName("ZP2015_DATE_OF_COPY", "datace vzniku kopie")
	.setSpecName("ZP2015_DATE_SEALING", "datace zpečetění")
	.setSpecName("ZP2015_DATE_ACT_PUBLISHING", "datace vydání listiny")
	.setSpecName("ZP2015_DATE_INSERT", "datace insertu/transeptu")
	.setSpecName("ZP2015_DATE_MOLD_CREATION", "datace vzniku matrice")
	.setSpecName("ZP2015_DATE_USAGE", "datace užívání typáře")
	.setSpecName("ZP2015_DATE_PUBLISHING", "datace vydání dokumentu")
	.setSpecName("ZP2015_DATE_MAP_UPDATE", "datace reambulace mapy")
	.setSpecName("ZP2015_DATE_CAPTURING", "datace pořízení obrazového záznamu")
	.setSpecName("ZP2015_DATE_RECORDING", "datace pořízení filmového / zvukového záznamu")
	.setSpecName("ZP2015_DATE_AWARDING", "datace udělení / propůjčení faleristického předmětu")
	.setSpecName("ZP2015_DATE_AWARD_CER", "datace předání faleristického předmětu")
	.setSpecName("ZP2015_DATE_WITHDRAWAL", "datace odnětí / vrácení faleristického předmětu")
	.setSpecName("ZP2015_DATE_LEGALLY_EFFECTIVE_FROM", "datace nabytí právní účinnosti")
	.setSpecName("ZP2015_DATE_VALID_FROM", "datace nabytí právní platnosti")
	.setSpecName("ZP2015_DATE_LEGALLY_EFFECTIVE_TO", "datace pozbytí právní účinnosti")
	.setSpecName("ZP2015_DATE_VALID_TO", "datace pozbytí právní platnosti")
	.addValue("ZP2015_DATE_OTHER")
	.setTitleSeparator(": ")
	.addValueWithTitle("ZP2015_ITEM_TITLE_REF")
	.addValueWithTitle("ZP2015_PART")
	.setGroupFormat("; ")
	.addValue("ZP2015_ENTITY_ROLE")
	.addValueWithTitle("ZP2015_UNIT_ACCESS")
	.addValueWithTitle("ZP2015_UNIT_INFO_RIGHTS")
	.addValueWithTitle("ZP2015_UNIT_COPY_RIGHTS")
	.addValueWithTitle("ZP2015_SIZE_WIDTH")
	.addValueWithTitle("ZP2015_SIZE_HEIGHT")
	.addValueWithTitle("ZP2015_SIZE_DEPTH")
	.addValueWithTitle("ZP2015_SIZE_UNITS")
    .setItemSeparator(", ")
	.setSpecFormat(" ", "", true)		
    .beginBlock()
    	.addValueWithTitle("ZP2015_WEIGHT")
	.endBlock()
	.setSpecTitleSource(cz.tacr.elza.print.format.SpecTitleSource.NAME)
	.setSpecFormat(" (", ")", true)		
    .beginBlock()
    	.addValueWithTitle("ZP2015_AMOUNT" )
	.endBlock()
	.setSpecFormat("", ": ", false)
	.setItemSeparator("\n")
	.addValueWithTitle("ZP2015_IMPRINT_COUNT")
	.addValueWithTitle("ZP2015_EXERQUE")
	.addValueWithTitle("ZP2015_PAINTING_CHAR")
	.addValueWithTitle("ZP2015_CORROBORATION")
	.addValueWithTitle("ZP2015_IMPRINT_ORDER")
	.addValueWithTitle("ZP2015_ORIENTATION")
	.addValueWithTitle("ZP2015_LEGEND")
	.addValueWithTitle("ZP2015_MOVIE_LENGTH")
	.addValueWithTitle("ZP2015_RECORD_LENGTH")
	.addValueWithTitle("ZP2015_EXISTING_COPY")
	.addValueWithTitle("ZP2015_COPY_SOURCE")
	.addValueWithTitle("ZP2015_EDITION")
	.addValueWithTitle("ZP2015_NOTE")]]></defaultValueExpression>
	</parameter>
	<parameter name="rootShortDetailFormatter" class="cz.tacr.elza.print.format.Formatter" isForPrompting="false">
		<parameterDescription><![CDATA[]]></parameterDescription>
		<defaultValueExpression><![CDATA[new cz.tacr.elza.print.format.Formatter()
	.setTitleSeparator(": ")
	.setItemSeparator(", ")
	.setBlockSeparators("","; ")
	.beginBlock().addValue("ZP2015_STORAGE_COND").endBlock()
	.beginBlock().addValue("ZP2015_SCALE").endBlock()
	.beginBlock().addValue("ZP2015_SIZE").endBlock()
	.beginBlock().addValue("ZP2015_WRITING").endBlock()	
	.beginBlock().addValue("ZP2015_ITEM_MAT").endBlock()]]></defaultValueExpression>
	</parameter>
	<parameter name="templateVariant" class="java.lang.String">
		<defaultValueExpression><![CDATA["B"]]></defaultValueExpression>
	</parameter>
	<parameter name="unitTypeFormatter" class="cz.tacr.elza.print.format.HtmlFormatter" isForPrompting="false">
		<parameterDescription><![CDATA[Formátování druhu archiválie]]></parameterDescription>
		<defaultValueExpression><![CDATA[new cz.tacr.elza.print.format.HtmlFormatter()
	.setTitleSeparator(": ")
	.setItemSeparator(": ")
	.setSpecSeparator(": ")
	.setSpecTitleSource(cz.tacr.elza.print.format.SpecTitleSource.NAME)
	.setBlockSeparators("", "\n")
	.when(cz.tacr.elza.print.format.ExpressionBuilder.hasValue("ZP2015_UNIT_TYPE"))
        .addValue("ZP2015_UNIT_TYPE")	
		.setItemSeparator(": ")
    	.when(cz.tacr.elza.print.format.ExpressionBuilder.hasValue("ZP2015_UNIT_COUNT"))
    	    .addValue("ZP2015_UNIT_COUNT")
    	.otherwise()
    	    .addStaticValue("1")
    	.end()    	
	.end()
   	.setItemSeparator(", ")
    .setSpecFormat("", ": ", false)
   	.addValue("ZP2015_EXTRA_UNITS")
]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[]]>
	</queryString>
	<field name="depth" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="node" class="cz.tacr.elza.print.Node">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<variable name="isFolder" class="java.lang.Boolean">
		<variableExpression><![CDATA[$F{node}.getItemsWithSpec("ZP2015_LEVEL_TYPE","ZP2015_LEVEL_FOLDER").size() > 0]]></variableExpression>
	</variable>
	<variable name="isJednotlivost" class="java.lang.Boolean">
		<variableExpression><![CDATA[$F{node}.getItemsWithSpec("ZP2015_LEVEL_TYPE","ZP2015_LEVEL_ITEM").size() > 0]]></variableExpression>
	</variable>
	<variable name="isSeries" class="java.lang.Boolean">
		<variableExpression><![CDATA[$F{node}.getItemsWithSpec("ZP2015_LEVEL_TYPE","ZP2015_LEVEL_SERIES").size() > 0]]></variableExpression>
	</variable>
	<variable name="isSection" class="java.lang.Boolean">
		<variableExpression><![CDATA[$F{node}.getItemsWithSpec("ZP2015_LEVEL_TYPE","ZP2015_LEVEL_SECTION").size() > 0]]></variableExpression>
	</variable>
	<variable name="isRoot" class="java.lang.Boolean">
		<variableExpression><![CDATA[$F{node}.getItemsWithSpec("ZP2015_LEVEL_TYPE","ZP2015_LEVEL_ROOT").size() > 0]]></variableExpression>
	</variable>
	<variable name="isEJ" class="java.lang.Boolean">
		<variableDescription><![CDATA[Zjištění, zda JP je evidenční jednotkou]]></variableDescription>
		<variableExpression><![CDATA[// neni EJ, pokud je zneplatneny zaznam nebo propojeny zaznam
// je EJ pokud je slozkou a zaroven je hromadinovou slozkou, slozkou s typem EJ nebo obsahuje Extra EJ
// je EJ pokud je jednotlivosti a neni pod hromadinovou slozkou nebo slozkou s typem
($F{node}.getItems(java.util.Arrays.asList( "ZP2015_CONNECTED_RECORD", "ZP2015_ITEM_LINK", "ZP2015_INVALID_RECORD") ).size()==0)?(
  ($V{isFolder}&&(
  	 ($F{node}.getItemsWithSpec("ZP2015_FOLDER_TYPE","ZP2015_FOLDER_UNITS").size() > 0)||($F{node}.getItemsWithSpec("ZP2015_FOLDER_TYPE","ZP2015_FOLDER_SINGLE_TYPE").size() > 0)||($F{node}.getItems( java.util.Arrays.asList("ZP2015_EXTRA_UNITS") ).size() > 0)
  ))||(
  	$V{isJednotlivost}&&($F{node}.getItemsFromParent(java.util.Arrays.asList("ZP2015_FOLDER_TYPE"),java.util.Arrays.asList("ZP2015_FOLDER_UNITS","ZP2015_FOLDER_SINGLE_TYPE")).size()==0)&&($F{node}.getItemsWithSpec("ZP2015_UNIT_TYPE","ZP2015_UNIT_TYPE_OTHER").size()==0)
  )
):false
]]></variableExpression>
	</variable>
	<variable name="isContentNode" class="java.lang.Boolean">
		<variableDescription><![CDATA[Je uzel přímou součástí pomůcky?]]></variableDescription>
		<variableExpression><![CDATA[$F{node}.getNodeId().isPublished()&&$F{node}.getParent()!=null&&$F{node}.getParent().isPublished()]]></variableExpression>
	</variable>
	<variable name="formalTitle" class="java.lang.String">
		<variableExpression><![CDATA[$F{node}.getSingleItemValue("ZP2015_FORMAL_TITLE")]]></variableExpression>
	</variable>
	<variable name="rootRef" class="java.lang.String">
		<variableExpression><![CDATA[$P{fund}.getInstitution().getCode()+"/"+$P{fund}.getFundNumber()]]></variableExpression>
	</variable>
	<variable name="detail" class="java.lang.String">
		<variableExpression><![CDATA[$V{isContentNode} ?
	$P{detailFormatter}.format($F{node}):
	$P{rootDetailFotmatter}.format($F{node})]]></variableExpression>
	</variable>
	<variable name="unitDate" class="java.lang.String">
		<variableExpression><![CDATA[$F{node}.getSingleItem( "ZP2015_UNIT_DATE_TEXT") == null ? $F{node}.getSingleItemValue( "ZP2015_UNIT_DATE" ) : $F{node}.getSingleItemValue( "ZP2015_UNIT_DATE_TEXT" )]]></variableExpression>
	</variable>
	<variable name="levelName" class="java.lang.String">
		<variableExpression><![CDATA[$F{node}.getItemsWithSpec("ZP2015_LEVEL_TYPE","ZP2015_LEVEL_ROOT").size() > 0 ? $P{fund}.getName() : $F{node}.getSingleItemValue("ZP2015_TITLE")]]></variableExpression>
	</variable>
	<variable name="refNumber" class="java.lang.String">
		<variableExpression><![CDATA[$V{isRoot} ? $V{rootRef} : 
	$F{node}.getSingleItemValue("ZP2015_UNIT_ID") + " " + $F{node}.getSingleItemValue("ZP2015_INV_CISLO")]]></variableExpression>
	</variable>
	<variable name="storageId" class="java.lang.String">
		<variableExpression><![CDATA[$P{storageFormatter}.format($F{node})]]></variableExpression>
	</variable>
	<variable name="otherIds" class="java.lang.String">
		<variableExpression><![CDATA[$P{otherIdFormatter}.format($F{node})]]></variableExpression>
	</variable>
	<variable name="serialNumber" class="java.lang.String">
		<variableExpression><![CDATA[$F{node}.getSingleItemValue("ZP2015_SERIAL_NUMBER")]]></variableExpression>
	</variable>
	<variable name="shortDetail" class="java.lang.String">
		<variableExpression><![CDATA[$V{isContentNode} ?
$P{shortDetailFormatter}.format($F{node}):
$P{rootShortDetailFormatter}.format($F{node})]]></variableExpression>
	</variable>
	<variable name="contentEntry" class="java.lang.String">
		<variableExpression><![CDATA[($F{depth}==1)?"Jednotky popisu":(($V{levelName}.length()>50)?$V{levelName}.substring(0,50)+"...":$V{levelName})+" "+$V{unitDate}]]></variableExpression>
	</variable>
	<variable name="unitType" class="java.lang.String">
		<variableDescription><![CDATA[Typ archiválie + identifikace EJ]]></variableDescription>
		<variableExpression><![CDATA[$P{unitTypeFormatter}.format($F{node})]]></variableExpression>
	</variable>
	<pageHeader>
		<band height="25">
			<textField evaluationTime="Master">
				<reportElement style="HeaderText" x="-3" y="0" width="458" height="21" uuid="eea9abe1-8a06-477e-bed1-0706a85c9344">
					<property name="com.jaspersoft.studio.unit.x" value="pixel"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.25"/>
					<bottomPen lineWidth="0.25"/>
				</box>
				<textElement textAlignment="Right"/>
				<textFieldExpression><![CDATA[""]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement style="HeaderText" x="-3" y="0" width="90" height="10" uuid="38bc3351-6865-4bba-9a9b-e96fc099e865">
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
				</reportElement>
				<box leftPadding="3">
					<pen lineWidth="0.0"/>
				</box>
				<text><![CDATA[Označení]]></text>
			</staticText>
			<staticText>
				<reportElement style="HeaderText" x="0" y="10" width="100" height="10" uuid="79047d65-1884-4aa8-8a6b-a1aef94b77a4"/>
				<text><![CDATA[Obsah]]></text>
			</staticText>
			<staticText>
				<reportElement style="HeaderText" x="355" y="10" width="100" height="10" uuid="af07e467-cfd7-4528-ae28-ba8b9ef8c7ac"/>
				<textElement textAlignment="Right"/>
				<text><![CDATA[Datace]]></text>
			</staticText>
			<staticText>
				<reportElement style="HeaderText" x="355" y="0" width="100" height="10" uuid="857f9d76-41b4-4084-bf74-4619dd10f44d">
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
				</reportElement>
				<textElement textAlignment="Right"/>
				<text><![CDATA[Ukládací číslo]]></text>
			</staticText>
			<staticText>
				<reportElement style="HeaderText" x="178" y="0" width="100" height="10" uuid="fe8cb3e4-f964-4f51-a077-feee745b9c34">
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
				</reportElement>
				<textElement textAlignment="Center"/>
				<text><![CDATA[Poř. č.]]></text>
			</staticText>
			<staticText>
				<reportElement style="HeaderText" mode="Transparent" x="-27" y="0" width="22" height="10" uuid="343b882e-f80a-41e4-8a16-c9cd5386a023">
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<text><![CDATA[Úrov.]]></text>
			</staticText>
		</band>
	</pageHeader>
	<detail>
		<band height="18" splitType="Stretch">
			<property name="com.jaspersoft.studio.layout" value="com.jaspersoft.studio.editor.layout.FreeLayout"/>
			<property name="com.jaspersoft.studio.unit.height" value="px"/>
			<frame>
				<reportElement style="ItemIds" positionType="Float" mode="Opaque" x="-13" y="0" width="468" height="16" isRemoveLineWhenBlank="true" uuid="c6dea43a-f2e5-4d67-ac7a-24710a5a064a">
					<property name="com.jaspersoft.studio.layout" value="com.jaspersoft.studio.editor.layout.HorizontalRowLayout"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<box topPadding="0" leftPadding="13" bottomPadding="0"/>
				<textField textAdjust="StretchHeight" pattern="">
					<reportElement key="" positionType="Float" stretchType="ContainerHeight" mode="Transparent" x="0" y="0" width="151" height="16" isRemoveLineWhenBlank="true" backcolor="#F7FF00" uuid="afc6f072-8bff-4713-b9e5-48f94699818b"/>
					<textElement verticalAlignment="Middle" markup="html">
						<font fontName="DejaVu Sans" size="9" pdfEncoding="Cp1250"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{refNumber}]]></textFieldExpression>
					<anchorNameExpression><![CDATA[$F{node}.getUuid()]]></anchorNameExpression>
				</textField>
				<textField textAdjust="StretchHeight" pattern="" bookmarkLevel="1">
					<reportElement key="" positionType="Float" mode="Transparent" x="151" y="0" width="150" height="16" isRemoveLineWhenBlank="true" backcolor="#FF0400" uuid="36da177c-abfb-48bd-b510-c7d2f0a55fd6">
						<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
					</reportElement>
					<textElement textAlignment="Center" verticalAlignment="Middle" markup="html">
						<font fontName="DejaVu Sans" size="9" pdfEncoding="Cp1250"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{serialNumber}]]></textFieldExpression>
					<anchorNameExpression><![CDATA[$V{contentEntry}]]></anchorNameExpression>
					<bookmarkLevelExpression><![CDATA[$V{isSeries} || $V{isSection} || $V{isRoot} ? $F{depth} : 0]]></bookmarkLevelExpression>
				</textField>
				<textField textAdjust="StretchHeight" pattern="">
					<reportElement x="301" y="0" width="150" height="16" isRemoveLineWhenBlank="true" backcolor="#FF0400" uuid="e97b4a38-1f5a-40bd-a91e-07d8fd22ad3b"/>
					<textElement textAlignment="Right" verticalAlignment="Middle" markup="html">
						<font fontName="DejaVu Sans" size="9" pdfEncoding="Cp1250"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{storageId}]]></textFieldExpression>
				</textField>
			</frame>
			<frame>
				<reportElement x="-20" y="0" width="16" height="16" uuid="353f022c-d15c-46aa-af38-06363cb4a440">
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
				</reportElement>
				<ellipse>
					<reportElement x="0" y="0" width="16" height="16" backcolor="#F2F2F2" uuid="cea66680-5836-4fc4-b542-4a3cd480ad64">
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
					</reportElement>
					<graphicElement>
						<pen lineWidth="0.0"/>
					</graphicElement>
				</ellipse>
				<ellipse>
					<reportElement x="2" y="2" width="12" height="12" backcolor="#FFFFFF" uuid="182aa3ee-adc8-457c-aeab-af617976d195">
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
						<printWhenExpression><![CDATA[!$V{isRoot}]]></printWhenExpression>
					</reportElement>
					<graphicElement>
						<pen lineWidth="0.0"/>
					</graphicElement>
				</ellipse>
				<textField>
					<reportElement mode="Transparent" x="2" y="2" width="12" height="12" forecolor="#CCCCCC" backcolor="#E6E6E6" uuid="58082039-4db5-4585-94f4-24f3384bb251">
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
						<printWhenExpression><![CDATA[!$V{isRoot}]]></printWhenExpression>
					</reportElement>
					<box topPadding="0" leftPadding="0"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font fontName="DejaVu Sans" size="7"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{depth} == 1 ? "" : $F{depth}-1]]></textFieldExpression>
				</textField>
			</frame>
		</band>
		<band height="13">
			<property name="com.jaspersoft.studio.unit.height" value="px"/>
			<textField textAdjust="StretchHeight" pattern="">
				<reportElement key="" style="Item" positionType="Float" mode="Transparent" x="0" y="0" width="455" height="13" isRemoveLineWhenBlank="true" backcolor="#22FF00" uuid="37b1c8da-68d1-40bc-8609-1efc0fe453c0">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<textElement markup="html">
					<font size="9" pdfEncoding="Cp1250"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{otherIds}]]></textFieldExpression>
			</textField>
		</band>
		<band height="13" splitType="Immediate">
			<property name="com.jaspersoft.studio.unit.height" value="px"/>
			<printWhenExpression><![CDATA[!$V{unitDate}.isEmpty()]]></printWhenExpression>
			<textField textAdjust="StretchHeight">
				<reportElement style="Title" positionType="Float" stretchType="ContainerHeight" mode="Opaque" x="0" y="0" width="305" height="13" isRemoveLineWhenBlank="true" uuid="d3ba98f4-7cb2-4911-b38d-1c06cbf29560">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<textElement verticalAlignment="Top" markup="none">
					<font pdfEncoding="Cp1250"/>
				</textElement>
				<textFieldExpression><![CDATA[cz.tacr.elza.print.format.Helper.getParagraph($V{levelName}, 0, 1)]]></textFieldExpression>
			</textField>
			<textField textAdjust="StretchHeight" pattern="">
				<reportElement style="Title" positionType="Float" stretchType="ContainerHeight" mode="Opaque" x="305" y="0" width="150" height="13" isRemoveLineWhenBlank="true" uuid="e9882b24-119b-4b5f-8dcf-0557d6729a92">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<textElement textAlignment="Right" verticalAlignment="Top" markup="none">
					<font pdfEncoding="Cp1250"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{unitDate}]]></textFieldExpression>
			</textField>
		</band>
		<band height="13" splitType="Immediate">
			<property name="com.jaspersoft.studio.layout" value="com.jaspersoft.studio.editor.layout.HorizontalRowLayout"/>
			<property name="com.jaspersoft.studio.unit.height" value="px"/>
			<printWhenExpression><![CDATA[$V{unitDate}.isEmpty()||StringUtils.isNotBlank(cz.tacr.elza.print.format.Helper.getParagraph($V{levelName},1,null))]]></printWhenExpression>
			<textField textAdjust="StretchHeight">
				<reportElement style="Title" positionType="Float" stretchType="ContainerHeight" mode="Opaque" x="0" y="0" width="455" height="13" isRemoveLineWhenBlank="true" uuid="ca455b78-f786-469e-a192-7a3149b1d7e1">
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
				</reportElement>
				<box topPadding="0"/>
				<textElement verticalAlignment="Top" markup="none">
					<font pdfEncoding="Cp1250"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{unitDate}.isEmpty()?$V{levelName}:cz.tacr.elza.print.format.Helper.getParagraph($V{levelName}, 1, null)]]></textFieldExpression>
			</textField>
		</band>
		<band height="13">
			<property name="com.jaspersoft.studio.layout" value="com.jaspersoft.studio.editor.layout.VerticalRowLayout"/>
			<property name="com.jaspersoft.studio.unit.height" value="px"/>
			<textField textAdjust="StretchHeight" pattern="">
				<reportElement key="" style="Item" positionType="Float" mode="Transparent" x="0" y="0" width="455" height="13" isRemoveLineWhenBlank="true" backcolor="#99FF66" uuid="c1830022-f0bc-4009-87d1-6ef681e84e7a">
					<printWhenExpression><![CDATA[$F{node}.getSingleItemValue("ZP2015_FORMAL_TITLE") != null]]></printWhenExpression>
				</reportElement>
				<textElement markup="html">
					<font isItalic="true" pdfEncoding="Cp1250"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{formalTitle}]]></textFieldExpression>
			</textField>
		</band>
		<band height="13">
			<property name="com.jaspersoft.studio.unit.height" value="px"/>
			<printWhenExpression><![CDATA[// má typ arch. a není již obsažen v ukl. jedmotce
StringUtils.isNotBlank($V{unitType})&&(
	!$V{isJednotlivost}||
	($F{node}.getItems(java.util.Collections.singletonList("ZP2015_STORAGE_ID")).size()!=1)||
	($F{node}.getItems(java.util.Collections.singletonList("ZP2015_UNIT_TYPE")).size()!=1) ||
	!$F{node}.getSingleItem("ZP2015_STORAGE_ID").getSerializedValue().startsWith( $F{node}.getSingleItem("ZP2015_UNIT_TYPE").getSpecification().getShortcut() ) 
)]]></printWhenExpression>
			<textField textAdjust="StretchHeight" pattern="">
				<reportElement key="" style="Item" positionType="Float" mode="Transparent" x="0" y="0" width="455" height="13" isRemoveLineWhenBlank="true" backcolor="#99FF66" uuid="059a67c2-2b3d-4e0c-817f-f093ae803c13">
					<printWhenExpression><![CDATA[$F{node}.getSingleItemValue("ZP2015_FORMAL_TITLE") != null]]></printWhenExpression>
				</reportElement>
				<textElement markup="html">
					<font isItalic="false" pdfEncoding="Cp1250"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{unitType}+($V{isEJ}?"; EJ":"")]]></textFieldExpression>
			</textField>
		</band>
		<band height="13">
			<property name="com.jaspersoft.studio.unit.height" value="px"/>
			<printWhenExpression><![CDATA[$F{node}.getItems( java.util.Collections.singletonList("ZP2015_ITEM_LINK") ).size()>0]]></printWhenExpression>
			<componentElement>
				<reportElement style="Item" stretchType="ContainerHeight" x="50" y="0" width="404" height="13" isRemoveLineWhenBlank="true" uuid="05895990-3044-4faf-9507-304bd9fbb8c1">
					<property name="com.jaspersoft.studio.unit.CONTENTS.height" value="px"/>
				</reportElement>
				<jr:list xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd" printOrder="Vertical">
					<datasetRun subDataset="ItemLinks" uuid="7cce7e5b-30c0-4347-a7d2-00d25283f2c0">
						<datasetParameter name="node">
							<datasetParameterExpression><![CDATA[$F{node}]]></datasetParameterExpression>
						</datasetParameter>
						<dataSourceExpression><![CDATA[new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource($F{node}.getItems( java.util.Collections.singletonList("ZP2015_ITEM_LINK") ))]]></dataSourceExpression>
					</datasetRun>
					<jr:listContents height="13" width="404">
						<textField textAdjust="StretchHeight" hyperlinkType="LocalAnchor">
							<reportElement style="Item" x="0" y="0" width="404" height="13" uuid="2bc5262b-fa8b-4cf9-8e36-36e36b522d36">
								<property name="com.jaspersoft.studio.unit.height" value="px"/>
								<printWhenExpression><![CDATA[$F{node}!=null]]></printWhenExpression>
							</reportElement>
							<box topPadding="0"/>
							<textFieldExpression><![CDATA[$F{description}+ "; " + 
($F{node}.getFund().getName() + ", CZ"+$F{node}.getFund().getInstitution().getCode()+"/"+$F{node}.getFund().getFundNumber()+"/"+ ( ($F{node}.getSingleItem("ZP2015_UNIT_ID")!=null?$F{node}.getSingleItem("ZP2015_UNIT_ID").getSerializedValue():"{"+$F{node}.getUuid()+"}") ))]]></textFieldExpression>
							<hyperlinkWhenExpression><![CDATA[$F{node}!=null&&($P{node}.getFund()==$F{node}.getFund())]]></hyperlinkWhenExpression>
							<hyperlinkAnchorExpression><![CDATA[$F{node}.getUuid()]]></hyperlinkAnchorExpression>
							<hyperlinkTooltipExpression><![CDATA[$F{item}.getDescription()]]></hyperlinkTooltipExpression>
						</textField>
						<textField textAdjust="StretchHeight" hyperlinkType="Reference">
							<reportElement style="Item" x="0" y="0" width="404" height="13" uuid="ed80c859-1de6-4dbe-95da-7fffc3921a01">
								<property name="com.jaspersoft.studio.unit.height" value="px"/>
								<property name="com.jaspersoft.studio.unit.x" value="px"/>
								<property name="com.jaspersoft.studio.unit.y" value="px"/>
								<printWhenExpression><![CDATA[$F{node}==null]]></printWhenExpression>
							</reportElement>
							<box topPadding="0"/>
							<textFieldExpression><![CDATA[$F{description}]]></textFieldExpression>
							<hyperlinkReferenceExpression><![CDATA[$F{item}.getValue()]]></hyperlinkReferenceExpression>
							<hyperlinkAnchorExpression><![CDATA[$F{node}!=null?$F{node}.getUuid():""]]></hyperlinkAnchorExpression>
							<hyperlinkTooltipExpression><![CDATA[$F{item}.getDescription()]]></hyperlinkTooltipExpression>
						</textField>
					</jr:listContents>
				</jr:list>
			</componentElement>
			<staticText>
				<reportElement style="Item" x="0" y="0" width="50" height="13" isRemoveLineWhenBlank="true" uuid="4fad29fe-addb-415e-a76f-44c104c5e58c"/>
				<text><![CDATA[spojeno s:]]></text>
			</staticText>
		</band>
		<band height="13">
			<property name="com.jaspersoft.studio.unit.height" value="px"/>
			<printWhenExpression><![CDATA[$F{node}.getItems( java.util.Collections.singletonList("ZP2015_RELATED_UNITS_LINK") ).size()>0]]></printWhenExpression>
			<staticText>
				<reportElement style="Item" x="0" y="0" width="40" height="13" isRemoveLineWhenBlank="true" uuid="f3f3c75c-6dbf-4fc1-8ecc-612abc848dd4"/>
				<text><![CDATA[odkazy:]]></text>
			</staticText>
			<componentElement>
				<reportElement style="Item" stretchType="ContainerHeight" x="40" y="0" width="414" height="13" isRemoveLineWhenBlank="true" uuid="2884ae47-d2e6-4707-9ac0-3b3649763cda">
					<property name="com.jaspersoft.studio.unit.CONTENTS.height" value="px"/>
				</reportElement>
				<jr:list xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd" printOrder="Vertical">
					<datasetRun subDataset="ItemLinks" uuid="b3f9bec1-6ce5-481f-a6b0-d7c4715258b7">
						<datasetParameter name="node">
							<datasetParameterExpression><![CDATA[$F{node}]]></datasetParameterExpression>
						</datasetParameter>
						<dataSourceExpression><![CDATA[new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource($F{node}.getItems( java.util.Collections.singletonList("ZP2015_RELATED_UNITS_LINK") ))]]></dataSourceExpression>
					</datasetRun>
					<jr:listContents height="13" width="414">
						<textField textAdjust="StretchHeight" hyperlinkType="LocalAnchor">
							<reportElement style="Item" x="0" y="0" width="414" height="13" uuid="ff61cb62-0b7f-448f-affb-c6a9eb6fb8f3">
								<property name="com.jaspersoft.studio.unit.height" value="px"/>
								<printWhenExpression><![CDATA[$F{node}!=null]]></printWhenExpression>
							</reportElement>
							<box topPadding="0"/>
							<textFieldExpression><![CDATA[$F{description}+ "; " + 
($F{node}.getFund().getName() + ", CZ"+$F{node}.getFund().getInstitution().getCode()+"/"+$F{node}.getFund().getFundNumber()+"/"+ ( ($F{node}.getSingleItem("ZP2015_UNIT_ID")!=null?$F{node}.getSingleItem("ZP2015_UNIT_ID").getSerializedValue():"{"+$F{node}.getUuid()+"}") ))]]></textFieldExpression>
							<hyperlinkWhenExpression><![CDATA[$F{node}!=null&&($P{node}.getFund()==$F{node}.getFund())]]></hyperlinkWhenExpression>
							<hyperlinkAnchorExpression><![CDATA[$F{node}!=null?$F{node}.getUuid():""]]></hyperlinkAnchorExpression>
						</textField>
						<textField textAdjust="StretchHeight" hyperlinkType="Reference">
							<reportElement style="Item" x="0" y="0" width="414" height="13" uuid="78a4d976-06fc-4724-95bc-b641c265ec96">
								<property name="com.jaspersoft.studio.unit.height" value="px"/>
								<property name="com.jaspersoft.studio.unit.x" value="px"/>
								<property name="com.jaspersoft.studio.unit.y" value="px"/>
								<printWhenExpression><![CDATA[$F{node}==null]]></printWhenExpression>
							</reportElement>
							<box topPadding="0"/>
							<textFieldExpression><![CDATA[$F{description}]]></textFieldExpression>
							<hyperlinkReferenceExpression><![CDATA[$F{item}.getValue()]]></hyperlinkReferenceExpression>
							<hyperlinkAnchorExpression><![CDATA[$F{node}!=null?$F{node}.getUuid():""]]></hyperlinkAnchorExpression>
						</textField>
					</jr:listContents>
				</jr:list>
			</componentElement>
		</band>
		<band height="13">
			<property name="com.jaspersoft.studio.unit.height" value="px"/>
			<printWhenExpression><![CDATA[$F{node}.getItems( java.util.Collections.singletonList("ZP2015_DAO_LINK") ).size()>0]]></printWhenExpression>
			<staticText>
				<reportElement style="Item" x="0" y="0" width="57" height="13" isRemoveLineWhenBlank="true" uuid="a9ed73fe-071c-43e3-a196-a11a8b0d9628">
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<text><![CDATA[digitalizáty:]]></text>
			</staticText>
			<componentElement>
				<reportElement style="Item" stretchType="ContainerHeight" x="57" y="0" width="397" height="13" isRemoveLineWhenBlank="true" uuid="05a5ce3f-1940-4299-b206-42571cbec5ca">
					<property name="com.jaspersoft.studio.unit.CONTENTS.height" value="px"/>
				</reportElement>
				<jr:list xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd" printOrder="Vertical">
					<datasetRun subDataset="ItemLinks" uuid="42e56759-0463-4a18-8831-6fe15589fb28">
						<datasetParameter name="node">
							<datasetParameterExpression><![CDATA[$F{node}]]></datasetParameterExpression>
						</datasetParameter>
						<dataSourceExpression><![CDATA[new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource($F{node}.getItems( java.util.Collections.singletonList("ZP2015_DAO_LINK") ))]]></dataSourceExpression>
					</datasetRun>
					<jr:listContents height="13" width="397">
						<textField textAdjust="StretchHeight" hyperlinkType="LocalAnchor">
							<reportElement style="Item" x="0" y="0" width="394" height="13" uuid="741a3653-62b2-4056-b1ee-7244a5113787">
								<property name="com.jaspersoft.studio.unit.height" value="px"/>
							</reportElement>
							<box topPadding="0"/>
							<textFieldExpression><![CDATA[$F{description}+ "; " + 
( $F{node}!=null?($F{node}.getFund().getName() + ", CZ"+$F{node}.getFund().getInstitution().getCode()+"/"+$F{node}.getFund().getFundNumber()+"/"+ ( ($F{node}.getSingleItem("ZP2015_UNIT_ID")!=null?$F{node}.getSingleItem("ZP2015_UNIT_ID").getSerializedValue():"{"+$F{node}.getUuid()+"}") )):$F{item}.getValue() )]]></textFieldExpression>
							<hyperlinkWhenExpression><![CDATA[$F{node}!=null&&($P{node}.getFund()==$F{node}.getFund())]]></hyperlinkWhenExpression>
							<hyperlinkAnchorExpression><![CDATA[$F{node}!=null?$F{node}.getUuid():""]]></hyperlinkAnchorExpression>
						</textField>
					</jr:listContents>
				</jr:list>
			</componentElement>
		</band>
		<band height="13">
			<property name="com.jaspersoft.studio.unit.height" value="px"/>
			<printWhenExpression><![CDATA[$F{node}.getItems( java.util.Collections.singletonList("ZP2015_POSITION") ).size()>0]]></printWhenExpression>
			<staticText>
				<reportElement style="Item" x="0" y="0" width="57" height="13" isRemoveLineWhenBlank="true" uuid="576b6746-2437-4b0b-b717-faa5f94d359d">
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<text><![CDATA[souřadnice:]]></text>
			</staticText>
			<componentElement>
				<reportElement style="Item" stretchType="ContainerHeight" x="57" y="0" width="397" height="13" isRemoveLineWhenBlank="true" uuid="ce42ed8d-e77a-46d0-814a-8e9de39f7c0b">
					<property name="com.jaspersoft.studio.unit.CONTENTS.height" value="px"/>
				</reportElement>
				<jr:list xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd" printOrder="Vertical">
					<datasetRun subDataset="ItemCoords" uuid="14787ab6-f352-413a-b8b6-e1e4d5eadb4e">
						<datasetParameter name="node">
							<datasetParameterExpression><![CDATA[$F{node}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="output">
							<datasetParameterExpression><![CDATA[$P{output}]]></datasetParameterExpression>
						</datasetParameter>
						<dataSourceExpression><![CDATA[new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource($F{node}.getItems( java.util.Collections.singletonList("ZP2015_POSITION") ))]]></dataSourceExpression>
					</datasetRun>
					<jr:listContents height="13" width="397">
						<textField textAdjust="StretchHeight" hyperlinkType="Reference">
							<reportElement style="Item" x="0" y="0" width="394" height="13" uuid="bd615070-bb7f-44a1-bc33-c3e5ce73f68e">
								<property name="com.jaspersoft.studio.unit.height" value="px"/>
							</reportElement>
							<box topPadding="0"/>
							<textFieldExpression><![CDATA["GPS souřadnice uvedeny v elektronické formě pomůcky"]]></textFieldExpression>
							<hyperlinkReferenceExpression><![CDATA[$P{output}.getExportConfig().getMapviewer().getUrl()+java.net.URLEncoder.encode($F{item}.getBase64Value(), "UTF-8")]]></hyperlinkReferenceExpression>
							<hyperlinkWhenExpression><![CDATA[true]]></hyperlinkWhenExpression>
							<hyperlinkTooltipExpression><![CDATA[$F{item}.getSerializedValue()]]></hyperlinkTooltipExpression>
						</textField>
					</jr:listContents>
				</jr:list>
			</componentElement>
		</band>
		<band height="13">
			<property name="com.jaspersoft.studio.unit.height" value="px"/>
			<textField textAdjust="StretchHeight" pattern="">
				<reportElement key="" style="Item" positionType="Float" mode="Transparent" x="0" y="0" width="455" height="13" isRemoveLineWhenBlank="true" backcolor="#FF00CC" uuid="674eef49-aa12-47b5-964c-4681de760f53">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<textElement markup="html">
					<font pdfEncoding="Cp1250"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{shortDetail}]]></textFieldExpression>
			</textField>
		</band>
		<band height="13">
			<property name="com.jaspersoft.studio.unit.height" value="px"/>
			<textField textAdjust="StretchHeight" pattern="">
				<reportElement key="" style="Item" positionType="Float" mode="Transparent" x="0" y="0" width="455" height="13" isRemoveLineWhenBlank="true" backcolor="#336699" uuid="3c1bed84-a8d7-4689-b873-651991dc790d">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<textElement markup="html">
					<font pdfEncoding="Cp1250"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{detail}]]></textFieldExpression>
			</textField>
		</band>
		<band height="6">
			<property name="com.jaspersoft.studio.unit.height" value="px"/>
		</band>
	</detail>
	<pageFooter>
		<band height="15" splitType="Stretch">
			<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
			<textField evaluationTime="Master">
				<reportElement style="HeaderText" x="0" y="1" width="455" height="14" uuid="ee75b069-80cb-408d-98ad-5e56a0d82bdf">
					<property name="com.jaspersoft.studio.unit.x" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.5" lineColor="#CCCCCC"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$V{MASTER_CURRENT_PAGE}]]></textFieldExpression>
			</textField>
		</band>
	</pageFooter>
</jasperReport>
