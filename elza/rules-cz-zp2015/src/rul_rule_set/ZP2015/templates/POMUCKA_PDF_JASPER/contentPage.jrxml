<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.16.0.final using JasperReports Library version 6.16.0-48579d909b7943b64690c65c71e07e0b80981928  -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="contentPage" language="groovy" pageWidth="595" pageHeight="842" columnWidth="455" leftMargin="70" rightMargin="70" topMargin="28" bottomMargin="28" uuid="71cc9236-0f65-4a0a-bb66-bbfe841a66c1">
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="One Empty Record"/>
	<property name="net.sf.jasperreports.print.create.bookmarks" value="true"/>
	<property name="com.jaspersoft.studio.unit." value="pixel"/>
	<import value="org.apache.commons.lang.StringUtils"/>
	<style name="Serie1">
		<conditionalStyle>
			<conditionExpression><![CDATA[$F{depth}==2]]></conditionExpression>
			<style fontSize="14" isBold="true" isUnderline="true"/>
		</conditionalStyle>
		<conditionalStyle>
			<conditionExpression><![CDATA[($F{depth}==3)&&($F{node}.getItemsWithSpec( "ZP2015_LEVEL_TYPE", "ZP2015_LEVEL_SERIES" ).size()==1)]]></conditionExpression>
			<style fontSize="12" isBold="true" isUnderline="false"/>
		</conditionalStyle>
		<conditionalStyle>
			<conditionExpression><![CDATA[($F{depth}==4)&&($F{node}.getItemsWithSpec( "ZP2015_LEVEL_TYPE", "ZP2015_LEVEL_SERIES" ).size()==1)]]></conditionExpression>
			<style fontSize="10" isBold="true" isUnderline="false"/>
		</conditionalStyle>
	</style>
	<style name="Item" mode="Transparent" forecolor="#333333" vTextAlign="Top" fontName="DejaVu Sans" fontSize="9" pdfEncoding="CP1250 (Central European)">
		<box topPadding="1" leftPadding="0"/>
		<paragraph lineSpacing="Single"/>
	</style>
	<style name="ListItem" style="Item" fontSize="10"/>
	<style name="Title" style="Item" forecolor="#000000" vTextAlign="Middle" fontSize="10">
		<box topPadding="1" bottomPadding="0">
			<pen lineColor="#EEEEEE"/>
		</box>
		<paragraph lineSpacingSize="1.0" spacingBefore="0"/>
		<conditionalStyle>
			<conditionExpression><![CDATA[$V{isSection} || $V{isRoot}]]></conditionExpression>
			<style fontSize="11" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false"/>
		</conditionalStyle>
		<conditionalStyle>
			<conditionExpression><![CDATA[$V{isSeries}]]></conditionExpression>
			<style fontSize="11" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false"/>
		</conditionalStyle>
	</style>
	<style name="OuterFrame" mode="Transparent" backcolor="#EEEEEE">
		<box>
			<leftPen lineWidth="0.0" lineColor="#CCCCCC"/>
		</box>
		<conditionalStyle>
			<conditionExpression><![CDATA[$P{templateVariant} == "A"]]></conditionExpression>
			<style>
				<box leftPadding="10">
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#CCCCCC"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
			</style>
		</conditionalStyle>
	</style>
	<style name="HeaderText" forecolor="#999999" fontName="DejaVu Sans" fontSize="8"/>
	<style name="ItemIds">
		<box topPadding="2" leftPadding="20" bottomPadding="2" rightPadding="4">
			<pen lineColor="#EEEEEE"/>
			<leftPen lineColor="#EEEEEE"/>
		</box>
		<conditionalStyle>
			<conditionExpression><![CDATA[false && $V{isSection} || false && $V{isRoot}]]></conditionExpression>
			<style fontSize="14" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false">
				<box>
					<pen lineWidth="0.0"/>
					<leftPen lineWidth="2.0" lineColor="#0033FF"/>
				</box>
			</style>
		</conditionalStyle>
		<conditionalStyle>
			<conditionExpression><![CDATA[false && $V{isFolder}]]></conditionExpression>
			<style mode="Transparent" fontSize="14" isItalic="true">
				<box>
					<leftPen lineWidth="2.0" lineColor="#FFCC00"/>
					<bottomPen lineColor="#FFCC00"/>
				</box>
			</style>
		</conditionalStyle>
		<conditionalStyle>
			<conditionExpression><![CDATA[false && $V{isSeries}]]></conditionExpression>
			<style fontSize="14" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false">
				<box>
					<leftPen lineWidth="2.0" lineColor="#0099FF"/>
					<bottomPen lineWidth="0.0" lineColor="#0099FF"/>
				</box>
			</style>
		</conditionalStyle>
		<conditionalStyle>
			<conditionExpression><![CDATA[$P{templateVariant} == "B"]]></conditionExpression>
			<style mode="Opaque" backcolor="#F1F1F1"/>
		</conditionalStyle>
		<conditionalStyle>
			<conditionExpression><![CDATA[$P{templateVariant} == "C"]]></conditionExpression>
			<style>
				<box>
					<topPen lineWidth="1.0" lineColor="#DDDDDD"/>
					<bottomPen lineWidth="1.0" lineColor="#F1F1F1"/>
				</box>
			</style>
		</conditionalStyle>
		<conditionalStyle>
			<conditionExpression><![CDATA[$P{templateVariant} == "A"]]></conditionExpression>
			<style>
				<box padding="0"/>
			</style>
		</conditionalStyle>
	</style>
	<subDataset name="Packets" uuid="ee50314f-e295-4cb5-bf43-2621ef7f1818">
		<parameter name="node" class="cz.tacr.elza.print.Node"/>
		<queryString>
			<![CDATA[]]>
		</queryString>
		<field name="packet" class="cz.tacr.elza.print.Structured">
			<fieldDescription><![CDATA[packet]]></fieldDescription>
		</field>
	</subDataset>
	<subDataset name="Items" uuid="981513c8-027f-4b8b-a906-cdd467ac9b78">
		<parameter name="node" class="cz.tacr.elza.print.Node"/>
		<queryString>
			<![CDATA[]]>
		</queryString>
		<field name="item" class="cz.tacr.elza.print.item.AbstractItem">
			<fieldDescription><![CDATA[item]]></fieldDescription>
		</field>
	</subDataset>
	<subDataset name="ItemLinks" uuid="6629060c-ddff-4424-8031-53fd364bd224">
		<parameter name="node" class="cz.tacr.elza.print.Node"/>
		<queryString>
			<![CDATA[]]>
		</queryString>
		<field name="description" class="java.lang.String"/>
		<field name="node" class="cz.tacr.elza.print.Node"/>
		<field name="item" class="cz.tacr.elza.print.item.ItemUriRef">
			<fieldDescription><![CDATA[_THIS]]></fieldDescription>
		</field>
	</subDataset>
	<parameter name="fund" class="cz.tacr.elza.print.Fund">
		<parameterDescription><![CDATA[]]></parameterDescription>
	</parameter>
	<parameter name="output" class="cz.tacr.elza.print.Output"/>
	<parameter name="datationFormatter" class="cz.tacr.elza.print.format.Formatter" isForPrompting="false">
		<parameterDescription><![CDATA[]]></parameterDescription>
		<defaultValueExpression><![CDATA[new cz.tacr.elza.print.format.Formatter()
	.setTitleSeparator(": ")
	.setItemSeparator(", ")
	.addValueWithTitle("ZP2015_UNIT_DATE_PRE")
	.addValueWithTitle("ZP2015_UNIT_DATE_POST")]]></defaultValueExpression>
	</parameter>
	<parameter name="otherIdFormatter" class="cz.tacr.elza.print.format.Formatter" isForPrompting="false">
		<parameterDescription><![CDATA[]]></parameterDescription>
		<defaultValueExpression><![CDATA[new cz.tacr.elza.print.format.Formatter()
	.setTitleSeparator(": ")
	.setSpecSeparator(": ")
	.setItemSeparator("<br>")
	.setBlockSeparators("","")
	.beginBlock().addValue("ZP2015_OTHER_ID").endBlock()]]></defaultValueExpression>
	</parameter>
	<parameter name="shortDetailFormatter" class="cz.tacr.elza.print.format.Formatter" isForPrompting="false">
		<parameterDescription><![CDATA[]]></parameterDescription>
		<defaultValueExpression><![CDATA[new cz.tacr.elza.print.format.Formatter()
	.setTitleSeparator(": ")
	.setItemSeparator(", ")
	.setBlockSeparators("","; ")
	.beginBlock().addValue("ZP2015_LANGUAGE").endBlock()
	.beginBlock().addValue("ZP2015_STORAGE_COND").endBlock()
	.beginBlock().addValue("ZP2015_SCALE").endBlock()
	.beginBlock().addValue("ZP2015_SIZE").endBlock()
	.beginBlock().addValue("ZP2015_WRITING").endBlock()	
	.beginBlock().addValue("ZP2015_ITEM_MAT").endBlock()]]></defaultValueExpression>
	</parameter>
	<parameter name="detailFormatter" class="cz.tacr.elza.print.format.Formatter" isForPrompting="false">
		<parameterDescription><![CDATA[]]></parameterDescription>
		<defaultValueExpression><![CDATA[new cz.tacr.elza.print.format.Formatter()
	.setTitleSeparator(": ")
	.setItemSeparator("<br>")
	.setSpecSeparator(": ")
	.setBlockSeparators("", "<br>")
	.beginBlock()
			.setItemSeparator(", ")
			.addValueWithTitle("ZP2015_ORIGINATOR")
		.endBlock()
		.setItemSeparator("<br>")
		.addValueWithTitle("ZP2015_UNIT_COUNT")
		.setItemSeparator(", ")
		.setSpecFormat(" (", ")",true)
		.addValueWithTitle("ZP2015_EXTRA_UNITS")
		.setSpecFormat("", ": ", false)
		.setItemSeparator("<br>")
		.setTitleSeparator(" - ")
	    .setSpecName("ZP2015_DATE_OF_CONTENT", "datace obsahu")
  	    .setSpecName("ZP2015_DATE_DECLARED", "datace deklarovaná")
  	    .setSpecName("ZP2015_DATE_ORIG", "datace vzniku předlohy")
  	    .setSpecName("ZP2015_DATE_OF_COPY", "datace vzniku kopie")
   	    .setSpecName("ZP2015_DATE_SEALING", "datace zpečetění")
   	    .setSpecName("ZP2015_DATE_ACT_PUBLISHING", "datace vydání listiny")
   	    .setSpecName("ZP2015_DATE_INSERT", "datace insertu/transeptu")
   	    .setSpecName("ZP2015_DATE_MOLD_CREATION", "datace vzniku matrice")
   	    .setSpecName("ZP2015_DATE_USAGE", "datace užívání typáře")
   	    .setSpecName("ZP2015_DATE_PUBLISHING", "datace vydání dokumentu")
   	    .setSpecName("ZP2015_DATE_MAP_UPDATE", "datace reambulace mapy")
   	    .setSpecName("ZP2015_DATE_CAPTURING", "datace pořízení obrazového záznamu")
   	    .setSpecName("ZP2015_DATE_RECORDING", "datace pořízení filmového / zvukového záznamu")
   	    .setSpecName("ZP2015_DATE_AWARDING", "datace udělení / propůjčení faleristického předmětu")
  	    .setSpecName("ZP2015_DATE_AWARD_CER", "datace předání faleristického předmětu")
  	    .setSpecName("ZP2015_DATE_WITHDRAWAL", "datace odnětí / vrácení faleristického předmětu")
		.addValue("ZP2015_DATE_OTHER")
      	.setTitleSeparator(": ")
		.addValueWithTitle("ZP2015_ITEM_TITLE_REF")
		.addValueWithTitle("ZP2015_PART")
		.setGroupFormat("; ")
		.addValue("ZP2015_ENTITY_ROLE")
		.addValueWithTitle("ZP2015_UNIT_HIST")
		.addValueWithTitle("ZP2015_UNIT_SOURCE")
		.addValueWithTitle("ZP2015_UNIT_ARR")
		.addValueWithTitle("ZP2015_FUTURE_UNITS")
		.addValueWithTitle("ZP2015_UNIT_CONTENT")
		.addValueWithTitle("ZP2015_UNIT_ACCESS")
		.addValueWithTitle("ZP2015_UNIT_INFO_RIGHTS")
		.addValueWithTitle("ZP2015_UNIT_COPY_RIGHTS")
		.addValueWithTitle("ZP2015_SIZE_WIDTH")
		.addValueWithTitle("ZP2015_SIZE_HEIGHT")
		.addValueWithTitle("ZP2015_SIZE_DEPTH")
		.addValueWithTitle("ZP2015_SIZE_UNITS")
		.addValueWithTitle("ZP2015_WEIGHT")
		.setItemSeparator(", ")
		.setSpecFormat("", "", true)		
		.addValueWithTitle("ZP2015_AMOUNT" )
		.setSpecFormat("", ": ", false)
		.setItemSeparator("<br>")		
		.addValueWithTitle("ZP2015_IMPRINT_COUNT")
		.addValueWithTitle("ZP2015_EXERQUE")
		.addValueWithTitle("ZP2015_PAINTING_CHAR")
		.addValueWithTitle("ZP2015_CORROBORATION")
		.addValueWithTitle("ZP2015_IMPRINT_ORDER")
		.addValueWithTitle("ZP2015_POSITION")
		.addValueWithTitle("ZP2015_ORIENTATION")
		.addValueWithTitle("ZP2015_LEGEND")
		.addValueWithTitle("ZP2015_MOVIE_LENGTH")
		.addValueWithTitle("ZP2015_RECORD_LENGTH")
		.addValueWithTitle("ZP2015_UNIT_CURRENT_STATUS")
		.addValueWithTitle("ZP2015_RELATED_UNITS")
		.addValueWithTitle("ZP2015_EXISTING_COPY")
		.addValueWithTitle("ZP2015_COPY_SOURCE")
		.addValueWithTitle("ZP2015_ARRANGE_RULES")
		.addValueWithTitle("ZP2015_EDITION")
		.addValueWithTitle("ZP2015_NOTE")
		.addValueWithTitle("ZP2015_ARRANGER")
		.addValueWithTitle("ZP2015_DESCRIPTION_DATE")]]></defaultValueExpression>
	</parameter>
	<parameter name="outputInfoFotmatter" class="cz.tacr.elza.print.format.Formatter" isForPrompting="false">
		<parameterDescription><![CDATA[]]></parameterDescription>
		<defaultValueExpression><![CDATA[new cz.tacr.elza.print.format.Formatter()
	.setTitleSeparator(": ")
	.setItemSeparator(", ")
	.addValueWithTitle("ZP2015_UNIT_DATE_PRE")
	.addValueWithTitle("ZP2015_UNIT_DATE_POST")
	.addValueWithTitle("ZP2015_UNIT_DATE")
	.addValueWithTitle("ZP2015_UNIT_DATE_TEXT")]]></defaultValueExpression>
	</parameter>
	<parameter name="storageFormatter" class="cz.tacr.elza.print.format.Formatter" isForPrompting="false">
		<parameterDescription><![CDATA[]]></parameterDescription>
		<defaultValueExpression><![CDATA[new cz.tacr.elza.print.format.Formatter()
    .setBlockSeparators("/","")
    .setItemSeparator(", ")
  	.addValue("ZP2015_STORAGE_ID")
	.beginBlock().addValue("ZP2015_ITEM_ORDER").endBlock()]]></defaultValueExpression>
	</parameter>
	<parameter name="rootDetailFotmatter" class="cz.tacr.elza.print.format.Formatter" isForPrompting="false">
		<parameterDescription><![CDATA[]]></parameterDescription>
		<defaultValueExpression><![CDATA[new cz.tacr.elza.print.format.Formatter()
	.setTitleSeparator(": ")
	.setItemSeparator("<br>")
	.setSpecSeparator(": ")
	.setBlockSeparators("","")
	.beginBlock()
		.addValueWithTitle("ZP2015_UNIT_COUNT_TABLE")
		.addValueWithTitle("ZP2015_DATE_OTHER")
		.addValueWithTitle("ZP2015_ITEM_TITLE")
		.addValueWithTitle("ZP2015_PART")
		.addValue("ZP2015_ENTITY_ROLE")
		.addValueWithTitle("ZP2015_UNIT_ACCESS")
		.addValueWithTitle("ZP2015_UNIT_INFO_RIGHTS")
		.addValueWithTitle("ZP2015_UNIT_COPY_RIGHTS")
		.addValueWithTitle("ZP2015_IMPRINT_COUNT")
		.addValueWithTitle("ZP2015_EXERQUE")
		.addValueWithTitle("ZP2015_PAINTING_CHAR")
		.addValueWithTitle("ZP2015_CORROBORATION")
		.addValueWithTitle("ZP2015_IMPRINT_ORDER")
		.addValueWithTitle("ZP2015_POSITION")
		.addValueWithTitle("ZP2015_ORIENTATION")
		.addValueWithTitle("ZP2015_LEGEND")
		.addValueWithTitle("ZP2015_MOVIE_LENGTH")
		.addValueWithTitle("ZP2015_EXISTING_COPY")
		.addValueWithTitle("ZP2015_COPY_SOURCE")
		.addValueWithTitle("ZP2015_EDITION")
		.addValueWithTitle("ZP2015_NOTE")
	.endBlock()]]></defaultValueExpression>
	</parameter>
	<parameter name="rootShortDetailFormatter" class="cz.tacr.elza.print.format.Formatter" isForPrompting="false">
		<parameterDescription><![CDATA[]]></parameterDescription>
		<defaultValueExpression><![CDATA[new cz.tacr.elza.print.format.Formatter()
	.setTitleSeparator(": ")
	.setItemSeparator(", ")
	.setBlockSeparators("","; ")
	.beginBlock().addValue("ZP2015_LANGUAGE").endBlock()]]></defaultValueExpression>
	</parameter>
	<parameter name="outputDetailFormatter" class="cz.tacr.elza.print.format.Formatter" isForPrompting="false">
		<parameterDescription><![CDATA[]]></parameterDescription>
		<defaultValueExpression><![CDATA[new cz.tacr.elza.print.format.Formatter()
	.setTitleSeparator(": ")
	.setItemSeparator("<br>")
	.setSpecSeparator(": ")
	.setBlockSeparators("","")
	.beginBlock()
		.addValueWithTitle("ZP2015_UNIT_COUNT")
	.endBlock()]]></defaultValueExpression>
	</parameter>
	<parameter name="templateVariant" class="java.lang.String">
		<defaultValueExpression><![CDATA["B"]]></defaultValueExpression>
	</parameter>
	<parameter name="rootNodeDetailFormatter" class="cz.tacr.elza.print.format.Formatter" isForPrompting="false">
		<parameterDescription><![CDATA[]]></parameterDescription>
		<defaultValueExpression><![CDATA[new cz.tacr.elza.print.format.Formatter()
	.setTitleSeparator(": ")
	.setItemSeparator("<br>")
	.setSpecSeparator(": ")
	.setBlockSeparators("","")
	.beginBlock()
		.addValueWithTitle("ZP2015_EDITION")
	.endBlock()]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[]]>
	</queryString>
	<field name="depth" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="node" class="cz.tacr.elza.print.Node">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<variable name="isFolder" class="java.lang.Boolean">
		<variableExpression><![CDATA[$F{node}.getItemsWithSpec("ZP2015_LEVEL_TYPE","ZP2015_LEVEL_FOLDER").size() > 0]]></variableExpression>
	</variable>
	<variable name="isSeries" class="java.lang.Boolean">
		<variableExpression><![CDATA[$F{node}.getItemsWithSpec("ZP2015_LEVEL_TYPE","ZP2015_LEVEL_SERIES").size() > 0]]></variableExpression>
	</variable>
	<variable name="isSection" class="java.lang.Boolean">
		<variableExpression><![CDATA[$F{node}.getItemsWithSpec("ZP2015_LEVEL_TYPE","ZP2015_LEVEL_SECTION").size() > 0]]></variableExpression>
	</variable>
	<variable name="isRoot" class="java.lang.Boolean">
		<variableExpression><![CDATA[$F{node}.getItemsWithSpec("ZP2015_LEVEL_TYPE","ZP2015_LEVEL_ROOT").size() > 0]]></variableExpression>
	</variable>
	<variable name="formalTitle" class="java.lang.String">
		<variableExpression><![CDATA[$F{node}.getSingleItemValue("ZP2015_FORMAL_TITLE")]]></variableExpression>
	</variable>
	<variable name="rootRef" class="java.lang.String">
		<variableExpression><![CDATA[$P{fund}.getInstitution().getCode()+"/"+$P{fund}.getFundNumber()]]></variableExpression>
	</variable>
	<variable name="detail" class="java.lang.String">
		<variableExpression><![CDATA[$V{isRoot} ?
	$P{rootDetailFotmatter}.format($P{output}) :
	$P{detailFormatter}.format($F{node})]]></variableExpression>
	</variable>
	<variable name="unitDate" class="java.lang.String">
		<variableExpression><![CDATA[$F{node}.getSingleItem( "ZP2015_UNIT_DATE_TEXT") == null ? $F{node}.getSingleItemValue( "ZP2015_UNIT_DATE" ) : $F{node}.getSingleItemValue( "ZP2015_UNIT_DATE_TEXT" )]]></variableExpression>
	</variable>
	<variable name="levelName" class="java.lang.String">
		<variableExpression><![CDATA[$F{node}.getItemsWithSpec("ZP2015_LEVEL_TYPE","ZP2015_LEVEL_ROOT").size() > 0 ? $P{fund}.getName() : $F{node}.getSingleItemValue("ZP2015_TITLE")]]></variableExpression>
	</variable>
	<variable name="refNumber" class="java.lang.String">
		<variableExpression><![CDATA[$V{isRoot} ? $V{rootRef} : 
	$F{node}.getSingleItemValue("ZP2015_UNIT_ID") + " " + $F{node}.getSingleItemValue("ZP2015_INV_CISLO")]]></variableExpression>
	</variable>
	<variable name="storageId" class="java.lang.String">
		<variableExpression><![CDATA[$P{storageFormatter}.format($F{node})]]></variableExpression>
	</variable>
	<variable name="otherIds" class="java.lang.String">
		<variableExpression><![CDATA[$P{otherIdFormatter}.format($F{node})]]></variableExpression>
	</variable>
	<variable name="serialNumber" class="java.lang.String">
		<variableExpression><![CDATA[$F{node}.getSingleItemValue("ZP2015_SERIAL_NUMBER")]]></variableExpression>
	</variable>
	<variable name="datation" class="java.lang.String">
		<variableExpression><![CDATA[$P{datationFormatter}.format($F{node})]]></variableExpression>
	</variable>
	<variable name="outputDetail" class="java.lang.String">
		<variableExpression><![CDATA[$P{outputDetailFormatter}.format($P{output})]]></variableExpression>
	</variable>
	<variable name="shortDetail" class="java.lang.String">
		<variableExpression><![CDATA[$V{isRoot} ? $P{rootShortDetailFormatter}.format($P{output}): $P{shortDetailFormatter}.format($F{node})]]></variableExpression>
	</variable>
	<variable name="rootDetail" class="java.lang.String">
		<variableExpression><![CDATA[$V{isRoot} ? $P{rootNodeDetailFormatter}.format($F{node}) : ""]]></variableExpression>
	</variable>
	<variable name="contentEntry" class="java.lang.String">
		<variableExpression><![CDATA[($F{depth}==1)?"Jednotky popisu":(($V{levelName}.length()>50)?$V{levelName}.substring(0,50)+"...":$V{levelName})+" "+$V{unitDate}]]></variableExpression>
	</variable>
	<pageHeader>
		<band height="25">
			<textField evaluationTime="Master">
				<reportElement style="HeaderText" x="-3" y="0" width="458" height="21" uuid="eea9abe1-8a06-477e-bed1-0706a85c9344">
					<property name="com.jaspersoft.studio.unit.x" value="pixel"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.25"/>
					<bottomPen lineWidth="0.25"/>
				</box>
				<textElement textAlignment="Right"/>
				<textFieldExpression><![CDATA[""]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement style="HeaderText" x="-3" y="0" width="90" height="10" uuid="38bc3351-6865-4bba-9a9b-e96fc099e865">
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
				</reportElement>
				<box leftPadding="3">
					<pen lineWidth="0.0"/>
				</box>
				<text><![CDATA[Označení]]></text>
			</staticText>
			<staticText>
				<reportElement style="HeaderText" x="0" y="10" width="100" height="10" uuid="79047d65-1884-4aa8-8a6b-a1aef94b77a4"/>
				<text><![CDATA[Obsah]]></text>
			</staticText>
			<staticText>
				<reportElement style="HeaderText" x="355" y="10" width="100" height="10" uuid="af07e467-cfd7-4528-ae28-ba8b9ef8c7ac"/>
				<textElement textAlignment="Right"/>
				<text><![CDATA[Datace]]></text>
			</staticText>
			<staticText>
				<reportElement style="HeaderText" x="355" y="0" width="100" height="10" uuid="857f9d76-41b4-4084-bf74-4619dd10f44d">
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
				</reportElement>
				<textElement textAlignment="Right"/>
				<text><![CDATA[Ukládací číslo]]></text>
			</staticText>
			<staticText>
				<reportElement style="HeaderText" x="178" y="0" width="100" height="10" uuid="fe8cb3e4-f964-4f51-a077-feee745b9c34">
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
				</reportElement>
				<textElement textAlignment="Center"/>
				<text><![CDATA[Poř. č.]]></text>
			</staticText>
			<staticText>
				<reportElement style="HeaderText" mode="Transparent" x="-27" y="0" width="22" height="10" uuid="343b882e-f80a-41e4-8a16-c9cd5386a023">
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<text><![CDATA[Úrov.]]></text>
			</staticText>
		</band>
	</pageHeader>
	<detail>
		<band height="18" splitType="Stretch">
			<property name="com.jaspersoft.studio.layout" value="com.jaspersoft.studio.editor.layout.FreeLayout"/>
			<property name="com.jaspersoft.studio.unit.height" value="px"/>
			<frame>
				<reportElement style="ItemIds" positionType="Float" mode="Opaque" x="-13" y="0" width="468" height="16" isRemoveLineWhenBlank="true" uuid="c6dea43a-f2e5-4d67-ac7a-24710a5a064a">
					<property name="com.jaspersoft.studio.layout" value="com.jaspersoft.studio.editor.layout.HorizontalRowLayout"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<box topPadding="0" leftPadding="13" bottomPadding="0"/>
				<textField textAdjust="StretchHeight" pattern="">
					<reportElement key="" positionType="Float" stretchType="ContainerHeight" mode="Transparent" x="0" y="0" width="151" height="16" isRemoveLineWhenBlank="true" backcolor="#F7FF00" uuid="afc6f072-8bff-4713-b9e5-48f94699818b"/>
					<textElement verticalAlignment="Middle" markup="html">
						<font fontName="DejaVu Sans" size="9" pdfEncoding="Cp1250"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{refNumber}]]></textFieldExpression>
					<anchorNameExpression><![CDATA[$F{node}.getUuid()]]></anchorNameExpression>
				</textField>
				<textField textAdjust="StretchHeight" pattern="" bookmarkLevel="1">
					<reportElement key="" positionType="Float" mode="Transparent" x="151" y="0" width="150" height="16" isRemoveLineWhenBlank="true" backcolor="#FF0400" uuid="36da177c-abfb-48bd-b510-c7d2f0a55fd6">
						<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
					</reportElement>
					<textElement textAlignment="Center" verticalAlignment="Middle" markup="html">
						<font fontName="DejaVu Sans" size="9" pdfEncoding="Cp1250"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{serialNumber}]]></textFieldExpression>
					<anchorNameExpression><![CDATA[$V{contentEntry}]]></anchorNameExpression>
					<bookmarkLevelExpression><![CDATA[$V{isSeries} || $V{isSection} || $V{isRoot} ? $F{depth} : 0]]></bookmarkLevelExpression>
				</textField>
				<textField textAdjust="StretchHeight" pattern="">
					<reportElement x="301" y="0" width="150" height="16" isRemoveLineWhenBlank="true" backcolor="#FF0400" uuid="e97b4a38-1f5a-40bd-a91e-07d8fd22ad3b"/>
					<textElement textAlignment="Right" verticalAlignment="Middle" markup="html">
						<font fontName="DejaVu Sans" size="9" pdfEncoding="Cp1250"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{storageId}]]></textFieldExpression>
				</textField>
			</frame>
			<frame>
				<reportElement x="-20" y="0" width="16" height="16" uuid="353f022c-d15c-46aa-af38-06363cb4a440">
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
				</reportElement>
				<ellipse>
					<reportElement x="0" y="0" width="16" height="16" backcolor="#F2F2F2" uuid="cea66680-5836-4fc4-b542-4a3cd480ad64">
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
					</reportElement>
					<graphicElement>
						<pen lineWidth="0.0"/>
					</graphicElement>
				</ellipse>
				<ellipse>
					<reportElement x="2" y="2" width="12" height="12" backcolor="#FFFFFF" uuid="182aa3ee-adc8-457c-aeab-af617976d195">
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
						<printWhenExpression><![CDATA[!$V{isRoot}]]></printWhenExpression>
					</reportElement>
					<graphicElement>
						<pen lineWidth="0.0"/>
					</graphicElement>
				</ellipse>
				<textField>
					<reportElement mode="Transparent" x="2" y="2" width="12" height="12" forecolor="#CCCCCC" backcolor="#E6E6E6" uuid="58082039-4db5-4585-94f4-24f3384bb251">
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
						<printWhenExpression><![CDATA[!$V{isRoot}]]></printWhenExpression>
					</reportElement>
					<box topPadding="0" leftPadding="0"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font fontName="DejaVu Sans" size="7"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{depth} == 1 ? "" : $F{depth}-1]]></textFieldExpression>
				</textField>
			</frame>
		</band>
		<band height="13">
			<property name="com.jaspersoft.studio.unit.height" value="px"/>
			<textField textAdjust="StretchHeight" pattern="">
				<reportElement key="" style="Item" positionType="Float" mode="Transparent" x="0" y="0" width="455" height="13" isRemoveLineWhenBlank="true" backcolor="#22FF00" uuid="37b1c8da-68d1-40bc-8609-1efc0fe453c0">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<textElement markup="html">
					<font size="9" pdfEncoding="Cp1250"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{otherIds}]]></textFieldExpression>
			</textField>
		</band>
		<band height="13" splitType="Immediate">
			<property name="com.jaspersoft.studio.unit.height" value="px"/>
			<printWhenExpression><![CDATA[!$V{unitDate}.isEmpty()]]></printWhenExpression>
			<textField textAdjust="StretchHeight">
				<reportElement style="Title" positionType="Float" stretchType="ContainerHeight" mode="Opaque" x="0" y="0" width="305" height="13" isRemoveLineWhenBlank="true" uuid="d3ba98f4-7cb2-4911-b38d-1c06cbf29560">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<textElement verticalAlignment="Top" markup="none">
					<font pdfEncoding="Cp1250"/>
				</textElement>
				<textFieldExpression><![CDATA[cz.tacr.elza.print.format.Helper.getParagraph($V{levelName}, 0, 1)]]></textFieldExpression>
			</textField>
			<textField textAdjust="StretchHeight" pattern="">
				<reportElement style="Title" positionType="Float" stretchType="ContainerHeight" mode="Opaque" x="305" y="0" width="150" height="13" isRemoveLineWhenBlank="true" uuid="e9882b24-119b-4b5f-8dcf-0557d6729a92">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<textElement textAlignment="Right" verticalAlignment="Top" markup="none">
					<font pdfEncoding="Cp1250"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{unitDate}]]></textFieldExpression>
			</textField>
		</band>
		<band height="13" splitType="Immediate">
			<property name="com.jaspersoft.studio.layout" value="com.jaspersoft.studio.editor.layout.HorizontalRowLayout"/>
			<property name="com.jaspersoft.studio.unit.height" value="px"/>
			<printWhenExpression><![CDATA[$V{unitDate}.isEmpty()||StringUtils.isNotBlank(cz.tacr.elza.print.format.Helper.getParagraph($V{levelName},1,null))]]></printWhenExpression>
			<textField textAdjust="StretchHeight">
				<reportElement style="Title" positionType="Float" stretchType="ContainerHeight" mode="Opaque" x="0" y="0" width="455" height="13" isRemoveLineWhenBlank="true" uuid="ca455b78-f786-469e-a192-7a3149b1d7e1">
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
				</reportElement>
				<box topPadding="0"/>
				<textElement verticalAlignment="Top" markup="none">
					<font pdfEncoding="Cp1250"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{unitDate}.isEmpty()?$V{levelName}:cz.tacr.elza.print.format.Helper.getParagraph($V{levelName}, 1, null)]]></textFieldExpression>
			</textField>
		</band>
		<band height="13">
			<property name="com.jaspersoft.studio.layout" value="com.jaspersoft.studio.editor.layout.VerticalRowLayout"/>
			<property name="com.jaspersoft.studio.unit.height" value="px"/>
			<textField textAdjust="StretchHeight" pattern="">
				<reportElement key="" style="Item" positionType="Float" mode="Transparent" x="0" y="0" width="455" height="13" isRemoveLineWhenBlank="true" backcolor="#99FF66" uuid="c1830022-f0bc-4009-87d1-6ef681e84e7a">
					<printWhenExpression><![CDATA[$F{node}.getSingleItemValue("ZP2015_FORMAL_TITLE") != null]]></printWhenExpression>
				</reportElement>
				<textElement markup="html">
					<font isItalic="true" pdfEncoding="Cp1250"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{formalTitle}]]></textFieldExpression>
			</textField>
		</band>
		<band height="13">
			<property name="com.jaspersoft.studio.unit.height" value="px"/>
			<printWhenExpression><![CDATA[$F{node}.getItems( java.util.Collections.singletonList("ZP2015_ITEM_LINK") ).size()>0]]></printWhenExpression>
			<componentElement>
				<reportElement style="Item" stretchType="ContainerHeight" x="50" y="0" width="404" height="13" isRemoveLineWhenBlank="true" uuid="05895990-3044-4faf-9507-304bd9fbb8c1">
					<property name="com.jaspersoft.studio.unit.CONTENTS.height" value="px"/>
				</reportElement>
				<jr:list xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd" printOrder="Vertical">
					<datasetRun subDataset="ItemLinks" uuid="7cce7e5b-30c0-4347-a7d2-00d25283f2c0">
						<datasetParameter name="node">
							<datasetParameterExpression><![CDATA[$F{node}]]></datasetParameterExpression>
						</datasetParameter>
						<dataSourceExpression><![CDATA[new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource($F{node}.getItems( java.util.Collections.singletonList("ZP2015_ITEM_LINK") ))]]></dataSourceExpression>
					</datasetRun>
					<jr:listContents height="13" width="404">
						<textField textAdjust="StretchHeight" hyperlinkType="LocalAnchor">
							<reportElement style="Item" x="0" y="0" width="404" height="13" uuid="2bc5262b-fa8b-4cf9-8e36-36e36b522d36">
								<property name="com.jaspersoft.studio.unit.height" value="px"/>
							</reportElement>
							<textFieldExpression><![CDATA[$F{description}+ "; " + 
( $F{node}!=null?($F{node}.getFund().getName() + ", CZ"+$F{node}.getFund().getInstitution().getCode()+"/"+$F{node}.getFund().getFundNumber()+"/"+ ( ($F{node}.getSingleItem("ZP2015_UNIT_ID")!=null?$F{node}.getSingleItem("ZP2015_UNIT_ID").getSerializedValue():"{"+$F{node}.getUuid()+"}") )):$F{item}.getValue() )]]></textFieldExpression>
							<hyperlinkWhenExpression><![CDATA[$F{node}!=null&&($P{node}.getFund()==$F{node}.getFund())]]></hyperlinkWhenExpression>
							<hyperlinkAnchorExpression><![CDATA[$F{node}!=null?$F{node}.getUuid():""]]></hyperlinkAnchorExpression>
						</textField>
					</jr:listContents>
				</jr:list>
			</componentElement>
			<staticText>
				<reportElement style="Item" x="0" y="0" width="50" height="13" isRemoveLineWhenBlank="true" uuid="4fad29fe-addb-415e-a76f-44c104c5e58c"/>
				<text><![CDATA[Spojeno s:]]></text>
			</staticText>
		</band>
		<band height="13">
			<property name="com.jaspersoft.studio.unit.height" value="px"/>
			<textField textAdjust="StretchHeight" pattern="">
				<reportElement key="" style="Item" positionType="Float" mode="Transparent" x="0" y="0" width="455" height="13" isRemoveLineWhenBlank="true" backcolor="#00FFFF" uuid="a3510bac-f867-49ff-ae62-c4bcef03c80d">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<printWhenExpression><![CDATA[$F{node}.getItemsWithSpec("ZP2015_LEVEL_TYPE","ZP2015_LEVEL_ROOT").size() > 0]]></printWhenExpression>
				</reportElement>
				<textElement markup="html">
					<font pdfEncoding="Cp1250"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{outputDetail}]]></textFieldExpression>
			</textField>
		</band>
		<band height="13">
			<property name="com.jaspersoft.studio.unit.height" value="px"/>
			<textField textAdjust="StretchHeight" pattern="">
				<reportElement key="" style="Item" positionType="Float" mode="Transparent" x="0" y="0" width="455" height="13" isRemoveLineWhenBlank="true" backcolor="#FF99CC" uuid="c493609b-f050-40e3-9f11-701aae268a31">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<textElement markup="html">
					<font pdfEncoding="Cp1250"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{datation}]]></textFieldExpression>
			</textField>
		</band>
		<band height="13">
			<property name="com.jaspersoft.studio.unit.height" value="px"/>
			<textField textAdjust="StretchHeight" pattern="">
				<reportElement key="" style="Item" positionType="Float" mode="Transparent" x="0" y="0" width="455" height="13" isRemoveLineWhenBlank="true" backcolor="#FF00CC" uuid="674eef49-aa12-47b5-964c-4681de760f53">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<textElement markup="html">
					<font pdfEncoding="Cp1250"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{shortDetail}]]></textFieldExpression>
			</textField>
		</band>
		<band height="13">
			<property name="com.jaspersoft.studio.unit.height" value="px"/>
			<textField textAdjust="StretchHeight" pattern="">
				<reportElement key="" style="Item" positionType="Float" mode="Transparent" x="0" y="0" width="455" height="13" isRemoveLineWhenBlank="true" backcolor="#336699" uuid="3c1bed84-a8d7-4689-b873-651991dc790d">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<textElement markup="html">
					<font pdfEncoding="Cp1250"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{detail}]]></textFieldExpression>
			</textField>
		</band>
		<band height="13">
			<property name="com.jaspersoft.studio.unit.height" value="px"/>
			<printWhenExpression><![CDATA[!$V{rootDetail}.isEmpty()]]></printWhenExpression>
			<textField textAdjust="StretchHeight" pattern="">
				<reportElement key="" style="Item" positionType="Float" mode="Transparent" x="0" y="0" width="455" height="13" isRemoveLineWhenBlank="true" backcolor="#FFCC00" uuid="06be55e2-a051-4582-93e6-d5d04f9e26e5">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<textElement markup="html">
					<font pdfEncoding="Cp1250"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{rootDetail}]]></textFieldExpression>
			</textField>
		</band>
		<band height="6">
			<property name="com.jaspersoft.studio.unit.height" value="px"/>
		</band>
	</detail>
	<pageFooter>
		<band height="15" splitType="Stretch">
			<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
			<textField evaluationTime="Master">
				<reportElement style="HeaderText" x="0" y="1" width="455" height="14" uuid="ee75b069-80cb-408d-98ad-5e56a0d82bdf">
					<property name="com.jaspersoft.studio.unit.x" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.5" lineColor="#CCCCCC"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$V{MASTER_CURRENT_PAGE}]]></textFieldExpression>
			</textField>
		</band>
	</pageFooter>
</jasperReport>
