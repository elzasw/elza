name: Vícenásobný generátor
code_type_bulk_action: GENERATOR_MULTIPLE
rule_code: ZP2015

action:
  - DATACE_RANGE
    input_types:
      - ZP2015_UNIT_DATE
    output_type: ZP2015_TITLE

  - NODE_COUNT
    output_type: ZP2015_UNIT_COUNT
    apply_parents: false

  - NODE_COUNT
    output_type: ZP2015_UNIT_COUNT

  - TEXT_AGGREGATION
    ignore_duplicate: false
    input_types:
      - ZP2015_NOTE
      - ZP2015_UNIT_DATE_TEXT
      - ZP2015_LEGEND
    output_type: ZP2015_TITLE

  - COPY
    input_types:
      - ZP2015_TITLE
    output_type: ZP2015_TITLE

  - TABLE_STATISTIC
    input_types:
      - ZP2015_TITLE
    output_type: ZP2015_STATISTICS
    output_table_code: KEY
    output_table_type: TEXT

  - UNIT_COUNT
    output_type: ZP2015_UNIT_COUNT

    find_1: ZP2015_LEVEL_TYPE ZP2015_LEVEL_ITEM
    under: ZP2015_LEVEL_TYPE ZP2015_LEVEL_SERIES
    unit_extra: ZP2015_UNIT_TYPE ZP2015_UNIT_TYPE_KTT
    unit_extra_count: ZP2015_UNIT_COUNT

    find_2: ZP2015_FOLDER_TYPE ZP2015_FOLDER_LOGICAL
    find_3: ZP2015_FOLDER_TYPE ZP2015_FOLDER_UNITS
    find_4: ZP2015_FOLDER_TYPE ZP2015_FOLDER_SINGLE_TYPE
    value2: ZP2015_UNIT_COUNT

    exclude_hierarchical: ZP2015_FOLDER_TYPE ZP2015_FOLDER_UNITS
    value: ZP2015_STORAGE_ID
    extra: ZP2015_EXTRA_UNITS

