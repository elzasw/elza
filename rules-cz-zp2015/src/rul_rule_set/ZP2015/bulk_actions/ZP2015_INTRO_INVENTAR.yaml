name: Agregace úvodu inventáře a katalogu
code_type_bulk_action: GENERATOR_MULTIPLE

action:
    - DATE_RANGE
        input_type: ZP2015_UNIT_DATE
        input_type_prior: ZP2015_UNIT_DATE_PRE
        input_type_posterior: ZP2015_UNIT_DATE_POST
        output_type: ZP2015_DATE_RANGE

    - TEXT_AGGREGATION
        input_types:
            - ZP2015_UNIT_SOURCE
        output_type: ZP2015_UNIT_SOURCE

    # ZP4.3.2 Manipulacni seznam ma historii nepovinnou
    - TEXT_AGGREGATION
        input_types:
            - ZP2015_UNIT_HIST
        output_type: ZP2015_UNIT_HIST

    # ZP4.3.3 Způsob uspořádání jednotky popisu
    - TEXT_AGGREGATION
        input_types:
            - ZP2015_UNIT_ARR
        output_type: ZP2015_UNIT_ARR

    # ZP4.3.4 Tematický popis jednotky popisu
    - TEXT_AGGREGATION
        input_types:
            - ZP2015_UNIT_CONTENT
        output_type: ZP2015_UNIT_CONTENT

    # ZP4.3.6 Budoucí přírůstky
    - TEXT_AGGREGATION
        input_types:
            - ZP2015_FUTURE_UNITS
        output_type: ZP2015_FUTURE_UNITS

    # ZP4.4.4 Fyzický stav jednotky popisu a technické požadavky
    - TEXT_AGGREGATION
        input_types:
            - ZP2015_UNIT_CURRENT_STATUS
        output_type: ZP2015_UNIT_CURRENT_STATUS

    # 4.5.2 Odkazy na příbuzné dokumenty, archiválie a pomůcky pro vyhledávání
    - TEXT_AGGREGATION
        create_empty: false
        input_types:
            - ZP2015_RELATED_UNITS
        output_type: ZP2015_RELATED_UNITS

  	# 4.7.1 Zpracovatel jednotky popisu
	  # ZP2015_ARRANGER - doposud neimplementovano
    - COPY
        input_types:
            - ZP2015_ARRANGER
        distinct: true
        output_type: ZP2015_ARRANGER

    # 4.7.1 Informace o zpracování
    - TEXT_AGGREGATION
        create_empty: false
        input_types:
            - ZP2015_ARRANGEMENT_INFO
        output_type: ZP2015_ARRANGEMENT_INFO

    # 4.7.2 Pravidla zpracování jednotky popisu
    - TEXT_AGGREGATION
        input_types:
            - ZP2015_ARRANGE_RULES
        output_type: ZP2015_ARRANGE_RULES

    # 4.7.3 Datum popisu
    - TEXT_AGGREGATION
        input_types:
            - ZP2015_DESCRIPTION_DATE
        output_type: ZP2015_DESCRIPTION_DATE

   # Agregace původce
    - COPY
        input_types:
            - ZP2015_ORIGINATOR
        distinct: true
        output_type: ZP2015_ORIGINATOR

    # Agregace jazyků - zatim nefunkcni
    - COPY
        input_types:
            - ZP2015_LANGUAGE
        distinct: true
        output_type: ZP2015_LANGUAGE

    # Počet JP v pomůcce
    - NODE_COUNT
        output_type: ZP2015_UNIT_COUNT_SUM

    - UNIT_COUNT
        output_type: ZP2015_UNIT_COUNT_TABLE
        output_column_unit_name: NAME
        output_column_unit_value: COUNT
        # typ pro typ archiválie
        UNIT_TYPE: ZP2015_UNIT_TYPE

        # typ a specifikace jednotlivosti
        ITEM: ZP2015_LEVEL_TYPE ZP2015_LEVEL_ITEM

        # typ a specifikace série
        SERIES: ZP2015_LEVEL_TYPE ZP2015_LEVEL_SERIES

        # typ a specifikace kartotéky a typ počtu zásuvek
        KTT: ZP2015_UNIT_TYPE ZP2015_UNIT_TYPE_KTT
        KTT_count: ZP2015_UNIT_COUNT

        # typ a specifikace logické složky
        FOLDER_LOGICAL: ZP2015_FOLDER_TYPE ZP2015_FOLDER_LOGICAL

        # typ a specifikace množstevní EJ
        FOLDER_UNITS: ZP2015_FOLDER_TYPE ZP2015_FOLDER_UNITS

        # typ a specifikace složky s typem EJ a typ počtu ej
        FOLDER_SINGLE_TYPE: ZP2015_FOLDER_TYPE ZP2015_FOLDER_SINGLE_TYPE
        FOLDER_SINGLE_TYPE_count: ZP2015_UNIT_COUNT

        # typ a specifikace množstevní EJ a typ pro ukládací číslo
        FOLDER_UNITS: ZP2015_FOLDER_TYPE ZP2015_FOLDER_UNITS
        STORAGE: ZP2015_STORAGE_ID

        # typ pro extra EJ
        EXTRA_UNITS: ZP2015_EXTRA_UNITS
