name: Vícenásobný generátor
code_type_bulk_action: GENERATOR_MULTIPLE
rule_code: SIMPLE-DEV

action:
  - DATE_RANGE
    input_type: SRD_UNIT_DATE
    input_type_prior: SRD_UNIT_DATE_PRE
    input_type_posterior: SRD_UNIT_DATE_POST
    output_type: SRD_TITLE

  - NODE_COUNT
    output_type: SRD_UNIT_COUNT
    apply_parents: false

  - NODE_COUNT
    output_type: SRD_UNIT_COUNT

  - TEXT_AGGREGATION
    ignore_duplicated: false
    input_types:
      - SRD_TITLE
      - SRD_UNIT_DATE_TEXT
      - SRD_LEGEND
    output_type: SRD_TITLE

  # Generated item not mentioned in actions
  - TEXT_AGGREGATION
    ignore_duplicated: false
    input_types:
      - SRD_UNIT_ARR
    output_type: SRD_UNIT_ARR

  # Generated item which is obligatory
  - TEXT_AGGREGATION
    ignore_duplicated: false
    input_types:
      - SRD_UNIT_HIST
    output_type: SRD_UNIT_HIST

  - COPY
    input_types:
      - SRD_TITLE
    output_type: SRD_TITLE

  - COPY
    distinct: true
    input_types:
      - SRD_TITLE
    output_type: SRD_UNIT_ARR

  - TABLE_STATISTIC
    input_types:
      - SRD_TITLE
    output_type: SRD_STATISTICS
    output_table_code: KEY
    output_table_type: TEXT

  - UNIT_COUNT
    output_type: ZP2015_UNIT_COUNT_TABLE
    output_table_column1: NAME
    output_table_column1_type: TEXT
    output_table_column2: COUNT
    output_table_column2_type: INTEGER

    # typ pro typ archiválie
    UNIT_TYPE: ZP2015_UNIT_TYPE

    # typ a specifikace jednotlivosti
    ITEM: ZP2015_LEVEL_TYPE ZP2015_LEVEL_ITEM

    # typ a specifikace série
    SERIES: ZP2015_LEVEL_TYPE ZP2015_LEVEL_SERIES

    # typ a specifikace kartotéky a typ počtu zásuvek
    KTT: ZP2015_UNIT_TYPE ZP2015_UNIT_TYPE_KTT
    KTT_count: ZP2015_UNIT_COUNT

    # typ a specifikace logické složky
    FOLDER_LOGICAL: ZP2015_FOLDER_TYPE ZP2015_FOLDER_LOGICAL

    # typ a specifikace množstevní EJ
    FOLDER_UNITS: ZP2015_FOLDER_TYPE ZP2015_FOLDER_UNITS

    # typ a specifikace složky s typem EJ a typ počtu ej
    FOLDER_SINGLE_TYPE: ZP2015_FOLDER_TYPE ZP2015_FOLDER_SINGLE_TYPE
    FOLDER_SINGLE_TYPE_count: ZP2015_UNIT_COUNT

    # typ a specifikace množstevní EJ a typ pro ukládací číslo
    FOLDER_UNITS: ZP2015_FOLDER_TYPE ZP2015_FOLDER_UNITS
    STORAGE: ZP2015_STORAGE_ID

    # typ pro extra EJ
    EXTRA_UNITS: ZP2015_EXTRA_UNITS

